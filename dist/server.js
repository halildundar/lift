/*! For license information please see server.js.LICENSE.txt */
(()=>{var t=require("dotenv"),r=require("express"),E=require("express-handlebars");function j(t,r){r.sendFile("".concat(process.cwd(),"/sources/8EF0E148BC848A44E6EAFE8F9FADF56F.txt"))}let O=require("mysql");function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function S(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?k(Object(e),!0).forEach(function(t){Y(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Y(t,r,e){return(r=(t=>(t=((t,r)=>{if("object"!=L(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=L(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==L(t)?t:t+""))(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}(0,t.config)({path:["const.env"]});var C=Y(Y(Y({connectionLimit:5,host:process.env.MYSQL_DB_HOST,user:process.env.MYSQL_DB_USERNAME1,password:process.env.MYSQL_DB_PASSWORD1,database:process.env.MYSQL_DB_NAME},"connectionLimit",20),"idleTimeoutMillis",3e4),"connectionTimeoutMillis",2e3),u=new function(t,r,e){var t=S(S({},C),{},{database:t,user:r,password:e}),i=O.createPool(t);return{Connection:function(){return new Promise(function(t,r){i.getConnection(function(e,o){e&&r(e),console.log("MySQL pool connected: threadId "+o.threadId);t({query:function(t,r){return new Promise(function(e,n){o.query(t,r,function(t,r){t&&n(t),e(r)})})},release:function(){return new Promise(function(t,r){e&&r(e),console.log("MySQL pool released: threadId "+o.threadId),t(o.release())})}})})})},Query:function(t,r){return new Promise(function(n,o){i.query(t,r,function(t,r,e){t&&o(t),n(r)})})}}}(C.database,C.user,C.password),U=["id"];function q(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){_=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==z(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(z(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function J(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function B(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){J(n,r,e,o,i,"next",t)}function i(t){J(n,r,e,o,i,"throw",t)}o(void 0)})}}var e=r.Router({mergeParams:!0}),K=(()=>{var e=B(_().mark(function t(r,e){var n,o;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `"+n.component+"`");case 5:return o=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:o}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),V=(()=>{var e=B(_().mark(function t(r,e){var n,o,i,a;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o=[0],console.log(JSON.stringify(n.certdata)),i=0;i<Object.values(n.certdata).length;i++)"object"==z(a=Object.values(n.certdata)[i])?o.push(JSON.stringify(a)):o.push(a);return console.log(o),t.next=9,u.Query("INSERT INTO `"+n.component+"` VALUES (?)",[o]);case 9:return t.abrupt("return",e.json({msg:"Ok!"}));case 10:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),X=(()=>{var e=B(_().mark(function t(r,e){var n,o,i;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.certdata,o=i.id,i=q(i,U),t.next=6,u.Query("UPDATE `"+n.component+"` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Z=(()=>{var e=B(_().mark(function t(r,e){var n;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `"+n.component+"` WHERE id = ?",[n.certdata.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var tt=["id"];function rt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function P(){P=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==$(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError($(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function et(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function nt(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){et(n,r,e,o,i,"next",t)}function i(t){et(n,r,e,o,i,"throw",t)}o(void 0)})}}var n=r.Router({mergeParams:!0}),ot=(()=>{var e=nt(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `onay-kurumlar`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),it=(()=>{var e=nt(P().mark(function t(r,e){var n,o;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `onay-kurumlar` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),at=(()=>{var e=nt(P().mark(function t(r,e){var n,o,i;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=rt(n,tt),t.next=6,u.Query("UPDATE `onay-kurumlar` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ut=(()=>{var e=nt(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `onay-kurumlar` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ct=require("multer");let g=require("fs");var st=r.Router({mergeParams:!0}),o=ct.diskStorage({destination:function(t,r,e){t=t.body.dest_path,t=process.cwd()+"/public"+t;(0,g.existsSync)(t)||(0,g.mkdirSync)(t,{recursive:!0}),e(null,t)},filename:function(t,r,e){e(null,t.body.filename+"."+r.originalname.split(".").pop())}}),ct=ct({storage:o});function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lt=["id"];function pt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function T(){T=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==ft(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(ft(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function ht(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function yt(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){ht(n,r,e,o,i,"next",t)}function i(t){ht(n,r,e,o,i,"throw",t)}o(void 0)})}}var o=r.Router({mergeParams:!0}),dt=(()=>{var e=yt(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `proje-firma`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),mt=(()=>{var e=yt(T().mark(function t(r,e){var n,o;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `proje-firma` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),vt=(()=>{var e=yt(T().mark(function t(r,e){var n,o,i;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=pt(n,lt),t.next=6,u.Query("UPDATE `proje-firma` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),gt=(()=>{var e=yt(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `proje-firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var wt=["id"];function xt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function D(){D=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==bt(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(bt(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function Et(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function i(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Et(n,r,e,o,i,"next",t)}function i(t){Et(n,r,e,o,i,"throw",t)}o(void 0)})}}var a=r.Router({mergeParams:!0}),jt=(()=>{var e=i(D().mark(function t(r,e){var n;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `personel`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ot=(()=>{var e=i(D().mark(function t(r,e){var n,o;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `personel` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Lt=(()=>{var e=i(D().mark(function t(r,e){var n,o,i;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=xt(n,wt),t.next=6,u.Query("UPDATE `personel` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),kt=(()=>{var e=i(D().mark(function t(r,e){var n;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `personel` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),St=(()=>{var e=i(D().mark(function t(r,e){var n,o;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.personel_id,t.next=6,u.Query("Select name FROM `personel` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Pt=["id"];function Tt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function N(){N=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==_t(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(_t(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function Dt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Nt(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Dt(n,r,e,o,i,"next",t)}function i(t){Dt(n,r,e,o,i,"throw",t)}o(void 0)})}}var c=r.Router({mergeParams:!0}),Ft=(()=>{var e=Nt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Rt=(()=>{var e=Nt(N().mark(function t(r,e){var n,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `as-firma` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Gt=(()=>{var e=Nt(N().mark(function t(r,e){var n,o,i;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=Tt(n,Pt),t.next=6,u.Query("UPDATE `as-firma` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),It=(()=>{var e=Nt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `as-firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),At=(()=>{var e=Nt(N().mark(function t(r,e){var n,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("Select * FROM `as-firma` WHERE id = ?",[n.as_firma_id]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Qt=["id"];function Mt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Ht(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function s(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=F(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=F(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==F(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ht(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function R(){R=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==F(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(F(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function Wt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function f(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Wt(n,r,e,o,i,"next",t)}function i(t){Wt(n,r,e,o,i,"throw",t)}o(void 0)})}}var l=r.Router({mergeParams:!0}),Yt=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,fetch("http://localhost:4000/planlama/denetim-formlar",{method:"POST",headers:{Accept:"applicatio/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return o=t.sent,t.next=8,o.json();case 8:return o=t.sent,console.log(content,o),t.abrupt("return",e.json(o));case 11:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ct=(()=>{var e=f(R().mark(function t(r,e){var n,o,i;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.start_date,o=n.end_date,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y'))",[i,o]);case 6:return i=t.sent,t.abrupt("return",e.json(s({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ut=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.last_date,t.next=6,u.Query("SELECT * from `planlama` WHERE str_to_date(denetim_tarih,'%d.%m.%Y') = str_to_date(?,'%d.%m.%Y')",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),qt=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `planlama` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),zt=(()=>{var e=f(R().mark(function t(r,e){var n,o,i;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=Mt(n,Qt),t.next=6,u.Query("UPDATE `planlama` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Jt=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `planlama` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Bt=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Kt=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT id,name,modul_atama FROM `personel` WHERE status = ? AND gorev = ?",[1,"Deneti"]);case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Vt=(()=>{var e=f(R().mark(function t(r,e){var n,o,i;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.il_id,o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `mahalleler` where il_id = ? AND ilce_id = ?",[i,o]);case 6:return i=t.sent,t.abrupt("return",e.json(s({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Xt=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `ilceler` where il_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Zt=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `iller`");case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),$t=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `iller` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),tr=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `ilceler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),rr=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.mahalle_id,t.next=6,u.Query("SELECT * FROM `mahalleler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var er=["id"];function nr(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function I(){I=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==G(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(G(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function or(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function p(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?or(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=G(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=G(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==G(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):or(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function ir(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function h(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){ir(n,r,e,o,i,"next",t)}function i(t){ir(n,r,e,o,i,"throw",t)}o(void 0)})}}var y=r.Router({mergeParams:!0}),ar=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ur=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.risk,t.next=6,u.Query("UPDATE `denetim` SET risk = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),cr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i,a;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.start_date,o=n.end_date,i=n.plan_status,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y')) AND status = ?",[a,o,i]);case 6:return a=t.sent,t.abrupt("return",e.json(p({},a)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),sr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.imzali_formlar,t.next=6,u.Query("UPDATE `denetim` SET imzali_formlar = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),fr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.tds_folders,t.next=6,u.Query("UPDATE `denetim` SET tds_folders = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),lr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.modulb_certs,console.log(n),t.next=7,u.Query("UPDATE `denetim` SET modulb_certs = ? WHERE id = ?",[JSON.stringify(i),o]);case 7:return t.abrupt("return",e.json(p({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),pr=(()=>{var e=h(I().mark(function t(r,e){var n;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `denetim` WHERE planlama_id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),hr=(()=>{var e=h(I().mark(function t(r,e){var n,o;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.tablename,t.next=6,u.Query("SELECT * FROM `"+o+"`");case 6:return o=t.sent,t.abrupt("return",e.json(p({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),yr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.tur,o=n.certId,t.next=6,u.Query("SELECT * FROM `"+i+"` WHERE id = ?",[o]);case 6:return i=t.sent,t.abrupt("return",e.json(p({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),dr=(()=>{var e=h(I().mark(function t(r,e){var n,o;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(p({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),mr=(()=>{var e=h(I().mark(function t(r,e){var n;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `denetim` SET ?",[n]);case 5:return t.abrupt("return",e.json(p({},n)));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),vr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=nr(n,er),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var gr=["id"];function br(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Q(){Q=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==A(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(A(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function wr(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function xr(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=A(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=A(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==A(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):wr(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Er(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function jr(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Er(n,r,e,o,i,"next",t)}function i(t){Er(n,r,e,o,i,"throw",t)}o(void 0)})}}var d=r.Router({mergeParams:!0}),Or=(()=>{var e=jr(Q().mark(function t(r,e){var n,o,i;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(xr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Lr=(()=>{var e=jr(Q().mark(function t(r,e){var n,o,i;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),o=n.id,i=br(n,gr),t.next=7,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 7:return t.abrupt("return",e.json(xr({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),kr=(()=>{var e=jr(Q().mark(function t(r,e){var n,o;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.as_firma_id,t.next=6,u.Query("SELECT * FROM `as-firma` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(xr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Sr=(()=>{var e=jr(Q().mark(function t(r,e){var n,o;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_status,t.next=6,u.Query("SELECT * FROM `planlama` where status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(xr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),_r=(()=>{var e=jr(Q().mark(function t(r,e){var n,o;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(xr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();let Pr=require("node:child_process"),b=require("path");function Tr(t){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(){M=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Tr(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Tr(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function Dr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Nr(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Dr(n,r,e,o,i,"next",t)}function i(t){Dr(n,r,e,o,i,"throw",t)}o(void 0)})}}function Fr(){return(Fr=Nr(M().mark(function t(r,l,e){var p,h,y,d,m,n,v;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:p="sources/asansor/teknikdosya/".concat(r,"/"),h=(new Date).getTime().toString(),l.map(function(t){"{formpathsfolder}"==t.search&&(h=t.text)}),y="public/uploads/planlama/denetim/"+h+"/teknikdosya",d=g.readFileSync("".concat(p,"/ozellikler.json"),"utf-8"),d=JSON.parse(d),m=[],g.existsSync(y)||g.mkdirSync(y,{recursive:!0}),e?(e.kabinust||(d=d.filter(function(t){return"20.Kabin st Risk Analiz.docx"!==t.filename})),e.kuyudip||(d=d.filter(function(t){return"21.Kuyu Dip Risk Analiz.docx"!==t.filename})),e.makdairesi||(d=d.filter(function(t){return"22.Makine Dairesi Risk Analiz.docx"!==t.filename}))):d=d.filter(function(t){return!("20.Kabin st Risk Analiz.docx"===t.filename||"21.Kuyu Dip Risk Analiz.docx"===t.filename||"22.Makine Dairesi Risk Analiz.docx"===t.filename)}),n=M().mark(function t(){var r,e,n,o,i,a,u,c,s,f;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=d[v],r=i.filename,e=i.searchs,i=b.join(process.cwd(),p,r),n=b.join(process.cwd(),y,r),m.push("/uploads/planlama/denetim/".concat(h,"/teknikdosya/").concat(r)),g.copyFileSync(i,n),o=l.filter(function(r){return e.some(function(t){return r.search===t})}),i=n.replace(".docx",".json"),a=[],u=0;u<o.length;u++)"{modul}"===(c=o[u]).search?(s=c.text.replace("Modul ",""),f={search:"{modul_g_bool}",text:"G"===s,type:"boolean"},a.push({search:"{G}",text:"G"===s?"":" ",type:"text"}),a.push(f),f={search:"{modul_b_bool}",text:"B"===s,type:"boolean"},a.push({search:"{B}",text:"B"===s?"":" ",type:"text"}),a.push(f),f={search:"{modul_e_bool}",text:"E"===s,type:"boolean"},a.push({search:"{E}",text:"E"===s?"":" ",type:"text"}),a.push(f),f={search:"{modul_h1_bool}",text:"H1"===s,type:"boolean"},a.push({search:"{H1}",text:"H1"===s?"":" ",type:"text"}),a.push(f)):a.push(c);g.writeFileSync(i,JSON.stringify({filename:r,kelimeler:a}));case 10:case"end":return t.stop()}},t)}),v=0;case 11:if(v<d.length)return t.delegateYield(n(),"t0",13);t.next=16;break;case 13:v++,t.next=11;break;case 16:return t.next=18,Rr(b.join(process.cwd(),y),"true");case 18:return t.abrupt("return",{formpaths:m,formpathsfolder:h.toString()});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Rr(){return Gr.apply(this,arguments)}function Gr(){return(Gr=Nr(M().mark(function t(o,i){var a;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=b.join(process.cwd(),"sources/asansor/shell-scripts/find-replace.ps1"),t.next=3;var r="powershell.exe ".concat(a," -folderPath ").concat(o," -IsRecursive ").concat(i),e=o,n=(0,Pr.spawn)(r,{shell:!0,cwd:e});return console.log("workdir",e),new Promise(function(r){n.stdout.on("data",function(t){process.stdout.write(t.toString())}),n.stderr.on("data",function(t){process.stderr.write(t.toString())}),n.on("exit",function(t){r(t)}),n.stdin.end()});case 3:return t.abrupt("return");case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ar(){Ar=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Ir(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Ir(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function Qr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Mr(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Qr(n,r,e,o,i,"next",t)}function i(t){Qr(n,r,e,o,i,"throw",t)}o(void 0)})}}function Hr(t){var e=(0,Pr.spawn)(t,{shell:!0});return new Promise(function(r){e.stdout.on("data",function(t){process.stdout.write(t.toString())}),e.stderr.on("data",function(t){process.stderr.write(t.toString())}),e.on("exit",function(t){r(t)}),e.stdin.end()})}function Wr(){return(Wr=Mr(Ar().mark(function t(r,e){var n;return Ar().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.join(process.cwd(),"sources/asansor/shell-scripts/make-zip.ps1"),t.next=3,Hr("powershell.exe ".concat(n," -folderPath ").concat(r," -zipPath ").concat(e));case 3:return t.abrupt("return");case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}let Yr=require("node:fs");function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Cr=["denetim_id"];function W(){W=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,a);if(e){if(e===m)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===m)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==H(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(H(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},a}function Ur(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function qr(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=H(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=H(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==H(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ur(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function zr(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Jr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function m(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Jr(n,r,e,o,i,"next",t)}function i(t){Jr(n,r,e,o,i,"throw",t)}o(void 0)})}}var v=r.Router({mergeParams:!0}),Br=(()=>{var e=m(W().mark(function t(r,e){var n,o,i;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=zr(n,Cr),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(qr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Kr=(()=>{var e=m(W().mark(function t(r,e){var n,o,i,a,u,c,s;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o="".concat(process.cwd(),"/public/downloads/").concat((new Date).getTime()),(0,Yr.existsSync)(o)||(0,Yr.mkdirSync)(o,{recursive:!0}),i=n.forms,a=0;a<i.length;a++)c=i[a],u=c.url,c=c.filename,u&&(console.log("".concat(process.cwd(),"/public/").concat(u)),(u.includes("7.Photo")||u.includes("6.Declaration of Confirmity")||u.includes("8.Technical Descriptions and Manuals"))&&(u=u.replaceAll(".docx",".pdf")),(0,Yr.copyFileSync)("".concat(process.cwd(),"/public/").concat(u),"".concat((0,b.join)(o,c))));return t.next=9,function(){return Wr.apply(this,arguments)}(o,o);case 9:return s=o.split("/").slice(-2).join("/"),t.abrupt("return",e.json({downurl:"/".concat(s,".zip")}));case 11:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Vr=(()=>{var e=m(W().mark(function t(r,e){var n,o,i;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(qr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Xr=(()=>{var e=m(W().mark(function t(r,e){var n,o;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.status,t.next=6,u.Query("SELECT * FROM `planlama` WHERE status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(qr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Zr=(()=>{var e=m(W().mark(function t(r,e){var n,o,i;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.comp_name,o=n.cert_id,t.next=6,u.Query("Select * from `onay-kurumlar` where id = (Select onay_kurum_id from `"+i+"` where id = "+o+")");case 6:return i=t.sent,t.abrupt("return",e.json(qr({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),$r=(()=>{var e=m(W().mark(function t(r,e){var n,o,i,a;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:if(o=n.comp_name,i=n.cert_id,"hiz-regulatoru"===o)return t.next=7,u.Query("Select cert_no,nom_hiz,tripped_hiz from `"+o+"` where id = "+i);t.next=10;break;case 7:a=t.sent,t.next=19;break;case 10:if("fren"===o||"tampon"===o)return t.next=13,u.Query("Select cert_no,hiz,kapasite from `"+o+"` where id = "+i);t.next=16;break;case 13:a=t.sent,t.next=19;break;case 16:return t.next=18,u.Query("Select cert_no from `"+o+"` where id = "+i);case 18:a=t.sent;case 19:return t.abrupt("return",e.json(qr({},a)));case 20:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),te=(()=>{var e=m(W().mark(function t(r,e){var n,o,i,a;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.template_name,i=n.sended_data,o=n.risk,i=Object.values(i),t.next=7,function(){return Fr.apply(this,arguments)}(a,i,o?JSON.parse(o):null);case 7:return a=t.sent,t.abrupt("return",e.json(a));case 9:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),re=r.Router({mergeParams:!0}),ee=require("body-parser"),ne=require("method-override"),w=require("cookie-parser"),oe=require("express-session"),ie=require("connect-flash"),ae=require("passport"),x=require("compression"),t=((0,t.config)({path:["const.env"]}),r()),ue=process.env.PORT||3e3;t.use(x()),t.use(w("secret")),t.use(oe({secret:"secret",resave:!0,saveUninitialized:!1,cookie:{maxAge:864e5}})),t.engine(".hbs",(0,E.engine)({defaultLayout:"main",extname:".hbs",layoutsDir:"views/layouts",partialsDir:"views/partials",helpers:{calc:function(t){return t+7},list:function(t,r,e){return"<h3>"+e.fn({test:t,test1:r,label:"custom Helper List"})},IsEq:function(t,r,e){return t===r?e.fn(this):e.inverse(this)},BiggerThan:function(t,r){return 0<t.length?r.fn(this):r.inverse(this)},LessThan:function(t,r){return t.length<=0?r.fn(this):r.inverse(this)},Inc:function(t,r){return parseInt(t)+1},Json:function(t,r){return JSON.stringify(t)}}})),t.set("view engine",".hbs"),t.set("views","".concat(process.cwd(),"/views")),t.use(r.static("public")),t.use(ee.urlencoded({limit:"50mb",extended:!0})),t.use(ee.json({limit:"50mb"})),t.use(ne("_method")),t.use(ie()),t.use(ae.initialize()),t.use(ae.session()),w=x=t,e.post("/sertifikalar/get-list",K),e.post("/sertifikalar/add",V),e.post("/sertifikalar/update",X),e.post("/sertifikalar/delete",Z),w.use("/",e),w=x,n.post("/onay-kurumlar/get-list",ot),n.post("/onay-kurumlar/add",it),n.post("/onay-kurumlar/update",at),n.post("/onay-kurumlar/delete",ut),w.use("/",n),w=x,o.post("/proje-firma/get-list",dt),o.post("/proje-firma/add",mt),o.post("/proje-firma/update",vt),o.post("/proje-firma/delete",gt),w.use("/",o),w=x,a.post("/personel/get-list",jt),a.post("/personel/add",Ot),a.post("/personel/update",Lt),a.post("/personel/delete",kt),a.post("/personel/get-personel-name",St),w.use("/",a),w=x,st.post("/stat/fileupload",ct.single("file"),function(t,r){r.status(200).json({msg:"Ok!"})}),st.post("/stat/filedelete",function(t,r){return t.body?(t=t.body.filepath,t=process.cwd()+"/public"+t,(0,g.existsSync)(t)&&(0,g.unlinkSync)(t),r.json({msg:"Kaldrld"})):r.json({msg:"Data Not found"})}),st.post("/stat/folderdelete",function(t,r){var e;return t.body?(t=t.body.folderpath,t=process.cwd()+"/public"+t,console.log(t),(e=(0,g.existsSync)(t))&&(console.log("isExist:",e),(0,g.rmdirSync)(t,{recursive:!0})),r.json({msg:"Kaldrld"})):r.json({msg:"Data Not found"})}),w.use("/",st),w=x,c.post("/as-firma/get-list",Ft),c.post("/as-firma/add",Rt),c.post("/as-firma/update",Gt),c.post("/as-firma/delete",It),c.post("/as-firma/get-firma-name",At),w.use("/",c),w=x,l.post("/planlama/denetim-formlar",function(t,r,e){r.setTimeout(3e5,function(){console.log("Request has timed out."),r.sendStatus(408)}),e()},Yt),l.post("/planlama/get-il",$t),l.post("/planlama/get-iller",Zt),l.post("/planlama/get-ilce",tr),l.post("/planlama/get-ilceler",Xt),l.post("/planlama/get-mahalle",rr),l.post("/planlama/get-mahalleler",Vt),l.post("/planlama/get-denetciler",Kt),l.post("/planlama/get-as-firmalar",Bt),l.post("/planlama/add",qt),l.post("/planlama/update",zt),l.post("/planlama/delete",Jt),l.post("/planlama/get-planlamalar",Ct),l.post("/planlama/get-lastday-plans",Ut),w.use("/",l),w=x,y.post("/denetim/get-denetim-by-planid",dr),y.post("/denetim/save-asansor-bilgi",mr),y.post("/denetim/update-asansor-bilgi",vr),y.post("/denetim/get-sertifika",yr),y.post("/denetim/delete-denetim",pr),y.post("/denetim/get-comps",hr),y.post("/denetim/update-modulb-list",lr),y.post("/denetim/update-imzali-formlar",sr),y.post("/denetim/update-tds-folders",fr),y.post("/denetim/get-planlamalar",cr),y.post("/denetim/update-risk",ur),y.post("/denetim/update-planstatus",ar),w.use("/",y),w=x,d.post("/proje/get-planlamalar",Sr),d.post("/proje/get-denetim-by-planid",_r),d.post("/proje/get-asansor-firmaByplanId",kr),d.post("/proje/update-denetim-proje",Lr),d.post("/proje/update-plan-status",Or),w.use("/",d),w=x,v.post("/tds/get-planlamalar",Xr),v.post("/tds/get-onay-kurum",Zr),v.post("/tds/get-cert",$r),v.post("/tds/teknik-dosya",te),v.post("/tds/update-plan-status",Vr),v.post("/tds/download-forms",Kr),v.post("/tds/update-ab-son-tarih",Br),w.use("/",v),re.get("/*",function(t,r){return r.render("pages/dashboard.hbs")}),re.get("/.well-known/pki-validation/8EF0E148BC848A44E6EAFE8F9FADF56F.txt",j),x.use("/",re),t.all("**",function(t,r){r.render("pages/404.hbs")}),t.listen(ue,function(){console.log("Server is starting at ".concat(ue))})})();