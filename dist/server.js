/*! For license information please see server.js.LICENSE.txt */
(()=>{var t=require("dotenv"),r=require("express"),E=require("express-handlebars");function j(t,r){r.sendFile("".concat(process.cwd(),"/sources/8EF0E148BC848A44E6EAFE8F9FADF56F.txt"))}let O=require("mysql");function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function S(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?k(Object(e),!0).forEach(function(t){Y(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Y(t,r,e){return(r=(t=>(t=((t,r)=>{if("object"!=L(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=L(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==L(t)?t:t+""))(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}(0,t.config)({path:["const.env"]});var C=Y(Y(Y({connectionLimit:5,host:process.env.MYSQL_DB_HOST,user:process.env.MYSQL_DB_USERNAME1,password:process.env.MYSQL_DB_PASSWORD1,database:process.env.MYSQL_DB_NAME},"connectionLimit",20),"idleTimeoutMillis",3e4),"connectionTimeoutMillis",2e3),u=new function(t,r,e){var t=S(S({},C),{},{database:t,user:r,password:e}),i=O.createPool(t);return{Connection:function(){return new Promise(function(t,r){i.getConnection(function(e,o){e&&r(e),console.log("MySQL pool connected: threadId "+o.threadId);t({query:function(t,r){return new Promise(function(e,n){o.query(t,r,function(t,r){t&&n(t),e(r)})})},release:function(){return new Promise(function(t,r){e&&r(e),console.log("MySQL pool released: threadId "+o.threadId),t(o.release())})}})})})},Query:function(t,r){return new Promise(function(n,o){i.query(t,r,function(t,r,e){t&&o(t),n(r)})})}}}(C.database,C.user,C.password),U=["id"];function q(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){_=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==z(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(z(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function J(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function B(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){J(n,r,e,o,i,"next",t)}function i(t){J(n,r,e,o,i,"throw",t)}o(void 0)})}}var e=r.Router({mergeParams:!0}),K=(()=>{var e=B(_().mark(function t(r,e){var n,o;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `"+n.component+"`");case 5:return o=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:o}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),V=(()=>{var e=B(_().mark(function t(r,e){var n,o,i,a;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o=[0],console.log(JSON.stringify(n.certdata)),i=0;i<Object.values(n.certdata).length;i++)"object"==z(a=Object.values(n.certdata)[i])?o.push(JSON.stringify(a)):o.push(a);return console.log(o),t.next=9,u.Query("INSERT INTO `"+n.component+"` VALUES (?)",[o]);case 9:return t.abrupt("return",e.json({msg:"Ok!"}));case 10:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),X=(()=>{var e=B(_().mark(function t(r,e){var n,o,i;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.certdata,o=i.id,i=q(i,U),t.next=6,u.Query("UPDATE `"+n.component+"` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Z=(()=>{var e=B(_().mark(function t(r,e){var n;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `"+n.component+"` WHERE id = ?",[n.certdata.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var tt=["id"];function rt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function P(){P=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==$(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError($(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function et(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function nt(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){et(n,r,e,o,i,"next",t)}function i(t){et(n,r,e,o,i,"throw",t)}o(void 0)})}}var n=r.Router({mergeParams:!0}),ot=(()=>{var e=nt(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `onay-kurumlar`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),it=(()=>{var e=nt(P().mark(function t(r,e){var n,o;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `onay-kurumlar` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),at=(()=>{var e=nt(P().mark(function t(r,e){var n,o,i;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=rt(n,tt),t.next=6,u.Query("UPDATE `onay-kurumlar` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ut=(()=>{var e=nt(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `onay-kurumlar` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ct=require("multer");let o=require("fs");var st=r.Router({mergeParams:!0}),i=ct.diskStorage({destination:function(t,r,e){t=t.body.dest_path,t=process.cwd()+"/public"+t;(0,o.existsSync)(t)||(0,o.mkdirSync)(t,{recursive:!0}),e(null,t)},filename:function(t,r,e){e(null,t.body.filename+"."+r.originalname.split(".").pop())}}),ct=ct({storage:i});function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lt=["id"];function pt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function T(){T=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==ft(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(ft(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function ht(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function yt(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){ht(n,r,e,o,i,"next",t)}function i(t){ht(n,r,e,o,i,"throw",t)}o(void 0)})}}var i=r.Router({mergeParams:!0}),dt=(()=>{var e=yt(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `proje-firma`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),vt=(()=>{var e=yt(T().mark(function t(r,e){var n,o;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `proje-firma` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),mt=(()=>{var e=yt(T().mark(function t(r,e){var n,o,i;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=pt(n,lt),t.next=6,u.Query("UPDATE `proje-firma` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),gt=(()=>{var e=yt(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `proje-firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var wt=["id"];function xt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function N(){N=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==bt(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(bt(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Et(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function jt(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Et(n,r,e,o,i,"next",t)}function i(t){Et(n,r,e,o,i,"throw",t)}o(void 0)})}}var a=r.Router({mergeParams:!0}),Ot=(()=>{var e=jt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `personel`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Lt=(()=>{var e=jt(N().mark(function t(r,e){var n,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `personel` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),kt=(()=>{var e=jt(N().mark(function t(r,e){var n,o,i;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=xt(n,wt),t.next=6,u.Query("UPDATE `personel` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),St=(()=>{var e=jt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `personel` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),_t=(()=>{var e=jt(N().mark(function t(r,e){var n,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.personel_id,t.next=6,u.Query("Select name FROM `personel` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Tt=["id"];function Nt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function D(){D=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Pt(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Pt(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Dt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Ft(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Dt(n,r,e,o,i,"next",t)}function i(t){Dt(n,r,e,o,i,"throw",t)}o(void 0)})}}var c=r.Router({mergeParams:!0}),Gt=(()=>{var e=Ft(D().mark(function t(r,e){var n;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Rt=(()=>{var e=Ft(D().mark(function t(r,e){var n,o;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `as-firma` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),It=(()=>{var e=Ft(D().mark(function t(r,e){var n,o,i;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=Nt(n,Tt),t.next=6,u.Query("UPDATE `as-firma` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Qt=(()=>{var e=Ft(D().mark(function t(r,e){var n;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `as-firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),At=(()=>{var e=Ft(D().mark(function t(r,e){var n,o;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("Select * FROM `as-firma` WHERE id = ?",[n.as_firma_id]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ht=["id"];function Mt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Wt(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function s(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=F(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=F(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==F(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Wt(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function G(){G=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==F(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(F(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Yt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function f(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Yt(n,r,e,o,i,"next",t)}function i(t){Yt(n,r,e,o,i,"throw",t)}o(void 0)})}}var l=r.Router({mergeParams:!0}),Ct=(()=>{var e=f(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=r.body){t.next=4;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 4:return t.next=6,fetch("http://localhost:4000/planlama/denetim-formlar",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return o=t.sent,t.next=9,o.json();case 9:return o=t.sent,t.abrupt("return",e.json(o));case 13:t.prev=13,t.t0=t.catch(0),e.json({msg:"Hata"});case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(t,r){return e.apply(this,arguments)}})(),Ut=(()=>{var e=f(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.start_date,o=n.end_date,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y'))",[i,o]);case 6:return i=t.sent,t.abrupt("return",e.json(s({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),qt=(()=>{var e=f(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.last_date,t.next=6,u.Query("SELECT * from `planlama` WHERE str_to_date(denetim_tarih,'%d.%m.%Y') = str_to_date(?,'%d.%m.%Y')",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),zt=(()=>{var e=f(G().mark(function t(r,e){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `planlama` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Jt=(()=>{var e=f(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=Mt(n,Ht),t.next=6,u.Query("UPDATE `planlama` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Bt=(()=>{var e=f(G().mark(function t(r,e){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `planlama` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Kt=(()=>{var e=f(G().mark(function t(r,e){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Vt=(()=>{var e=f(G().mark(function t(r,e){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT id,name,modul_atama FROM `personel` WHERE status = ? AND gorev = ?",[1,"Deneti"]);case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Xt=(()=>{var e=f(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.il_id,o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `mahalleler` where il_id = ? AND ilce_id = ?",[i,o]);case 6:return i=t.sent,t.abrupt("return",e.json(s({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Zt=(()=>{var e=f(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `ilceler` where il_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),$t=(()=>{var e=f(G().mark(function t(r,e){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `iller`");case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),tr=(()=>{var e=f(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `iller` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),rr=(()=>{var e=f(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `ilceler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),er=(()=>{var e=f(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.mahalle_id,t.next=6,u.Query("SELECT * FROM `mahalleler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var nr=["id"];function or(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function I(){I=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==R(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(R(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function ir(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function p(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=R(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=R(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==R(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ir(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function ar(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function h(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){ar(n,r,e,o,i,"next",t)}function i(t){ar(n,r,e,o,i,"throw",t)}o(void 0)})}}var y=r.Router({mergeParams:!0}),ur=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),cr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.risk,t.next=6,u.Query("UPDATE `denetim` SET risk = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),sr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i,a;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.start_date,o=n.end_date,i=n.plan_status,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y')) AND status = ?",[a,o,i]);case 6:return a=t.sent,t.abrupt("return",e.json(p({},a)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),fr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.imzali_formlar,t.next=6,u.Query("UPDATE `denetim` SET imzali_formlar = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),lr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.tds_folders,t.next=6,u.Query("UPDATE `denetim` SET tds_folders = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),pr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.modulb_certs,console.log(n),t.next=7,u.Query("UPDATE `denetim` SET modulb_certs = ? WHERE id = ?",[JSON.stringify(i),o]);case 7:return t.abrupt("return",e.json(p({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),hr=(()=>{var e=h(I().mark(function t(r,e){var n;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `denetim` WHERE planlama_id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),yr=(()=>{var e=h(I().mark(function t(r,e){var n,o;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.tablename,t.next=6,u.Query("SELECT * FROM `"+o+"`");case 6:return o=t.sent,t.abrupt("return",e.json(p({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),dr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.tur,o=n.certId,t.next=6,u.Query("SELECT * FROM `"+i+"` WHERE id = ?",[o]);case 6:return i=t.sent,t.abrupt("return",e.json(p({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),vr=(()=>{var e=h(I().mark(function t(r,e){var n,o;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(p({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),mr=(()=>{var e=h(I().mark(function t(r,e){var n;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `denetim` SET ?",[n]);case 5:return t.abrupt("return",e.json(p({},n)));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),gr=(()=>{var e=h(I().mark(function t(r,e){var n,o,i;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=or(n,nr),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var br=["id"];function wr(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function A(){A=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Q(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Q(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function xr(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function Er(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=Q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=Q(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==Q(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):xr(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function jr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Or(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){jr(n,r,e,o,i,"next",t)}function i(t){jr(n,r,e,o,i,"throw",t)}o(void 0)})}}var d=r.Router({mergeParams:!0}),Lr=(()=>{var e=Or(A().mark(function t(r,e){var n,o,i;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(Er({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),kr=(()=>{var e=Or(A().mark(function t(r,e){var n,o,i;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),o=n.id,i=wr(n,br),t.next=7,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 7:return t.abrupt("return",e.json(Er({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Sr=(()=>{var e=Or(A().mark(function t(r,e){var n,o;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.as_firma_id,t.next=6,u.Query("SELECT * FROM `as-firma` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Er({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),_r=(()=>{var e=Or(A().mark(function t(r,e){var n,o;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_status,t.next=6,u.Query("SELECT * FROM `planlama` where status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Er({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Pr=(()=>{var e=Or(A().mark(function t(r,e){var n,o;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Er({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();let Tr=require("node:child_process"),Nr=require("path");function Dr(t){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(){Fr=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Dr(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Dr(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Gr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Rr(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Gr(n,r,e,o,i,"next",t)}function i(t){Gr(n,r,e,o,i,"throw",t)}o(void 0)})}}function Ir(t){var e=(0,Tr.spawn)(t,{shell:!0});return new Promise(function(r){e.stdout.on("data",function(t){process.stdout.write(t.toString())}),e.stderr.on("data",function(t){process.stderr.write(t.toString())}),e.on("exit",function(t){r(t)}),e.stdin.end()})}function Qr(){return(Qr=Rr(Fr().mark(function t(r,e){var n;return Fr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nr.join(process.cwd(),"sources/asansor/shell-scripts/make-zip.ps1"),t.next=3,Ir("powershell.exe ".concat(n," -folderPath ").concat(r," -zipPath ").concat(e));case 3:return t.abrupt("return");case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}let Ar=require("node:fs");function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Hr=["denetim_id"];function M(){M=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==H(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(H(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Mr(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function Wr(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=H(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=H(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==H(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Mr(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Yr(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Cr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function v(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Cr(n,r,e,o,i,"next",t)}function i(t){Cr(n,r,e,o,i,"throw",t)}o(void 0)})}}var m=r.Router({mergeParams:!0}),Ur=(()=>{var e=v(M().mark(function t(r,e){var n,o,i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=Yr(n,Hr),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(Wr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),qr=(()=>{var e=v(M().mark(function t(r,e){var n,o,i,a,u,c,s;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o="".concat(process.cwd(),"/public/downloads/").concat((new Date).getTime()),(0,Ar.existsSync)(o)||(0,Ar.mkdirSync)(o,{recursive:!0}),i=n.forms,a=0;a<i.length;a++)c=i[a],u=c.url,c=c.filename,u&&(console.log("".concat(process.cwd(),"/public/").concat(u)),(u.includes("7.Photo")||u.includes("6.Declaration of Confirmity")||u.includes("8.Technical Descriptions and Manuals"))&&(u=u.replaceAll(".docx",".pdf")),(0,Ar.copyFileSync)("".concat(process.cwd(),"/public/").concat(u),"".concat((0,Nr.join)(o,c))));return t.next=9,function(){return Qr.apply(this,arguments)}(o,o);case 9:return s=o.split("/").slice(-2).join("/"),t.abrupt("return",e.json({downurl:"/".concat(s,".zip")}));case 11:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),zr=(()=>{var e=v(M().mark(function t(r,e){var n,o,i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(Wr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Jr=(()=>{var e=v(M().mark(function t(r,e){var n,o;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.status,t.next=6,u.Query("SELECT * FROM `planlama` WHERE status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Wr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Br=(()=>{var e=v(M().mark(function t(r,e){var n,o,i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.comp_name,o=n.cert_id,t.next=6,u.Query("Select * from `onay-kurumlar` where id = (Select onay_kurum_id from `"+i+"` where id = "+o+")");case 6:return i=t.sent,t.abrupt("return",e.json(Wr({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Kr=(()=>{var e=v(M().mark(function t(r,e){var n,o,i,a;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:if(o=n.comp_name,i=n.cert_id,"hiz-regulatoru"===o)return t.next=7,u.Query("Select cert_no,nom_hiz,tripped_hiz from `"+o+"` where id = "+i);t.next=10;break;case 7:a=t.sent,t.next=19;break;case 10:if("fren"===o||"tampon"===o)return t.next=13,u.Query("Select cert_no,hiz,kapasite from `"+o+"` where id = "+i);t.next=16;break;case 13:a=t.sent,t.next=19;break;case 16:return t.next=18,u.Query("Select cert_no from `"+o+"` where id = "+i);case 18:a=t.sent;case 19:return t.abrupt("return",e.json(Wr({},a)));case 20:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Vr=(()=>{var e=v(M().mark(function t(r,e){var n,o;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,fetch("http://localhost:4000/tds/teknik-dosya",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return o=t.sent,t.next=8,o.json();case 8:return o=t.sent,t.abrupt("return",e.json(o));case 10:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Xr(t,r,e){if(console.log("isAuth",t.isAuthenticated()),!t.isAuthenticated())return r.redirect("/signin");e()}var Zr=function(t,r,e){if(t.isAuthenticated())return r.redirect("/");e()},$r=function(t,r){t.session.destroy(function(t){return r.json({ok:!0})})},g=require("passport-local");let b=require("passport");require("bcryptjs");function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(){W=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==te(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(te(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function re(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function ee(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){re(n,r,e,o,i,"next",t)}function i(t){re(n,r,e,o,i,"throw",t)}o(void 0)})}}function ne(o,i){return new Promise((()=>{var e=ee(W().mark(function t(r,e){var n;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{n=o===i.sifre,r(n||"The password that you've entered is incorrect")}catch(t){e(t)}case 1:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})())}var oe=(()=>{var r=ee(W().mark(function t(r){var e;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Query("SELECT * FROM `personel` WHERE `email` = ? ",r);case 3:return e=t.sent,t.abrupt("return",e[0]);case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(t){return r.apply(this,arguments)}})(),ie=(()=>{var r=ee(W().mark(function t(r){var e;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Query("SELECT * FROM `personel` WHERE `id` = ? ",r);case 3:return e=t.sent,t.abrupt("return",e[0]);case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(t){return r.apply(this,arguments)}})();function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(){ue=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==ae(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(ae(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function ce(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}var g=g.Strategy,se=function(n,o,i){b.authenticate("local",function(t,r,e){switch(n.accepts("html","json")){case"html":if(t)return i(t);if(!r)return o.redirect("/signin");n.logIn(r,function(t){return t?i(t):o.redirect("/")});break;case"json":if(t)return i(t);if(!r)return console.log("Kullunc bulunamad"),o.status(401).json({ok:!1,msg:"Kullunc bulunamad"});if(e)return o.status(401).json({ok:!1,msg:"Email veya ifre hatal"});n.logIn(r,function(t){return t?(console.log(r,"Hatal bir durum var"),o.status(401).json({ok:!1,msg:"Hatal bir durum var"})):o.json({ok:!0})});break;default:o.status(406).json()}})(n,o,i)},fe=(b.serializeUser(function(t,r){r(null,t.id)}),b.deserializeUser(function(t,r){ie(t).then(function(t){return r(null,t)}).catch(function(t){return r(t,null)})}),r.Router({mergeParams:!0})),le=r.Router({mergeParams:!0}),g=(g=new g({usernameField:"email",passwordField:"sifre",passReqToCallback:!0},(()=>{u=ue().mark(function t(r,e,n,o){var i,a;return ue().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe(e);case 3:if(i=t.sent){t.next=8;break}return t.abrupt("return",o(null,!1));case 8:return t.next=10,ne(n,i);case 10:if(!0===(a=t.sent))return t.abrupt("return",o(null,i,null));t.next=15;break;case 15:if("The password that you've entered is incorrect"===a)return t.abrupt("return",o(null,i,a));t.next=19;break;case 19:return t.abrupt("return",o(null,!1,null));case 20:t.next=25;break;case 22:return t.prev=22,t.t0=t.catch(0),t.abrupt("return",o(null,!1,{message:t.t0}));case 25:case"end":return t.stop()}},t,null,[[0,22]])});var u,o=function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){ce(n,r,e,o,i,"next",t)}function i(t){ce(n,r,e,o,i,"throw",t)}o(void 0)})};return function(t,r,e,n){return o.apply(this,arguments)}})()),b.use(g),require("body-parser")),pe=require("method-override"),w=require("cookie-parser"),he=require("express-session"),x=(require("connect-flash"),require("compression")),t=((0,t.config)({path:["const.env"]}),r()),ye=process.env.PORT||3e3;t.use(x()),t.use(w("secret")),t.use(he({secret:"secret",resave:!0,saveUninitialized:!1,cookie:{maxAge:864e5}})),t.engine(".hbs",(0,E.engine)({defaultLayout:"main",extname:".hbs",layoutsDir:"views/layouts",partialsDir:"views/partials",helpers:{calc:function(t){return t+7},list:function(t,r,e){return"<h3>"+e.fn({test:t,test1:r,label:"custom Helper List"})},IsEq:function(t,r,e){return t===r?e.fn(this):e.inverse(this)},BiggerThan:function(t,r){return 0<t.length?r.fn(this):r.inverse(this)},LessThan:function(t,r){return t.length<=0?r.fn(this):r.inverse(this)},Inc:function(t,r){return parseInt(t)+1},Json:function(t,r){return JSON.stringify(t)}}})),t.set("view engine",".hbs"),t.set("views","".concat(process.cwd(),"/views")),t.use(r.static("public")),t.use(g.urlencoded({limit:"50mb",extended:!0})),t.use(g.json({limit:"50mb"})),t.use(pe("_method")),t.use(b.initialize()),t.use(b.session()),w=x=t,e.post("/sertifikalar/get-list",K),e.post("/sertifikalar/add",V),e.post("/sertifikalar/update",X),e.post("/sertifikalar/delete",Z),w.use("/",e),w=x,n.post("/onay-kurumlar/get-list",ot),n.post("/onay-kurumlar/add",it),n.post("/onay-kurumlar/update",at),n.post("/onay-kurumlar/delete",ut),w.use("/",n),w=x,i.post("/proje-firma/get-list",dt),i.post("/proje-firma/add",vt),i.post("/proje-firma/update",mt),i.post("/proje-firma/delete",gt),w.use("/",i),w=x,a.post("/personel/get-list",Ot),a.post("/personel/add",Lt),a.post("/personel/update",kt),a.post("/personel/delete",St),a.post("/personel/get-personel-name",_t),w.use("/",a),w=x,st.post("/stat/fileupload",ct.single("file"),function(t,r){r.status(200).json({msg:"Ok!"})}),st.post("/stat/filedelete",function(t,r){return t.body?(t=t.body.filepath,t=process.cwd()+"/public"+t,(0,o.existsSync)(t)&&(0,o.unlinkSync)(t),r.json({msg:"Kaldrld"})):r.json({msg:"Data Not found"})}),st.post("/stat/folderdelete",function(t,r){var e;return t.body?(t=t.body.folderpath,t=process.cwd()+"/public"+t,console.log(t),(e=(0,o.existsSync)(t))&&(console.log("isExist:",e),(0,o.rmdirSync)(t,{recursive:!0})),r.json({msg:"Kaldrld"})):r.json({msg:"Data Not found"})}),w.use("/",st),w=x,c.post("/as-firma/get-list",Gt),c.post("/as-firma/add",Rt),c.post("/as-firma/update",It),c.post("/as-firma/delete",Qt),c.post("/as-firma/get-firma-name",At),w.use("/",c),w=x,l.post("/planlama/denetim-formlar",function(t,r,e){r.setTimeout(3e5,function(){console.log("Request has timed out."),r.sendStatus(408)}),e()},Ct),l.post("/planlama/get-il",tr),l.post("/planlama/get-iller",$t),l.post("/planlama/get-ilce",rr),l.post("/planlama/get-ilceler",Zt),l.post("/planlama/get-mahalle",er),l.post("/planlama/get-mahalleler",Xt),l.post("/planlama/get-denetciler",Vt),l.post("/planlama/get-as-firmalar",Kt),l.post("/planlama/add",zt),l.post("/planlama/update",Jt),l.post("/planlama/delete",Bt),l.post("/planlama/get-planlamalar",Ut),l.post("/planlama/get-lastday-plans",qt),w.use("/",l),w=x,y.post("/denetim/get-denetim-by-planid",vr),y.post("/denetim/save-asansor-bilgi",mr),y.post("/denetim/update-asansor-bilgi",gr),y.post("/denetim/get-sertifika",dr),y.post("/denetim/delete-denetim",hr),y.post("/denetim/get-comps",yr),y.post("/denetim/update-modulb-list",pr),y.post("/denetim/update-imzali-formlar",fr),y.post("/denetim/update-tds-folders",lr),y.post("/denetim/get-planlamalar",sr),y.post("/denetim/update-risk",cr),y.post("/denetim/update-planstatus",ur),w.use("/",y),w=x,d.post("/proje/get-planlamalar",_r),d.post("/proje/get-denetim-by-planid",Pr),d.post("/proje/get-asansor-firmaByplanId",Sr),d.post("/proje/update-denetim-proje",kr),d.post("/proje/update-plan-status",Lr),w.use("/",d),w=x,m.post("/tds/get-planlamalar",Jr),m.post("/tds/get-onay-kurum",Br),m.post("/tds/get-cert",Kr),m.post("/tds/teknik-dosya",Vr),m.post("/tds/update-plan-status",zr),m.post("/tds/download-forms",qr),m.post("/tds/update-ab-son-tarih",Ur),w.use("/",m),w=x,fe.get("/signin",Zr,function(t,r){return r.render("pages/signin.hbs",{title:"Signin",script1:"<script defer src='/signin.js'><\/script>"})}),fe.post("/signin",Zr,function(t,r,e){if(!t.body)return r.send("User Not found");e()},se),fe.post("/signout",$r),w.use("/",fe),le.get("*",Xr,function(t,r){return r.render("pages/dashboard.hbs",{title:"Kontrol Panel",script1:'<script defer src="/main.js"><\/script>',user:t.user||""})}),le.get("/.well-known/pki-validation/8EF0E148BC848A44E6EAFE8F9FADF56F.txt",j),x.use("/",le),t.listen(ye,function(){console.log("Server is starting at ".concat(ye))})})();