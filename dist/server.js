/*! For license information please see server.js.LICENSE.txt */
(()=>{var t=require("dotenv"),r=require("express"),E=require("express-handlebars");function j(t,r){r.sendFile("".concat(process.cwd(),"/sources/8EF0E148BC848A44E6EAFE8F9FADF56F.txt"))}let O=require("mysql");function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function S(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?k(Object(e),!0).forEach(function(t){Y(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Y(t,r,e){return(r=(t=>(t=((t,r)=>{if("object"!=L(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=L(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==L(t)?t:t+""))(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}(0,t.config)({path:["const.env"]});var C=Y(Y(Y({connectionLimit:5,host:process.env.MYSQL_DB_HOST,user:process.env.MYSQL_DB_USERNAME1,password:process.env.MYSQL_DB_PASSWORD1,database:process.env.MYSQL_DB_NAME},"connectionLimit",20),"idleTimeoutMillis",3e4),"connectionTimeoutMillis",2e3),u=new function(t,r,e){var t=S(S({},C),{},{database:t,user:r,password:e}),a=O.createPool(t);return{Connection:function(){return new Promise(function(t,r){a.getConnection(function(e,o){e&&r(e),console.log("MySQL pool connected: threadId "+o.threadId);t({query:function(t,r){return new Promise(function(e,n){o.query(t,r,function(t,r){t&&n(t),e(r)})})},release:function(){return new Promise(function(t,r){e&&r(e),console.log("MySQL pool released: threadId "+o.threadId),t(o.release())})}})})})},Query:function(t,r){return new Promise(function(n,o){a.query(t,r,function(t,r,e){t&&o(t),n(r)})})}}}("artidoksan","adminn","Sb*i95_lJcG2xyfc"),U=["id"];function q(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){_=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==z(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(z(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function B(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function J(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){B(n,r,e,o,a,"next",t)}function a(t){B(n,r,e,o,a,"throw",t)}o(void 0)})}}var e=r.Router({mergeParams:!0}),K=(()=>{var e=J(_().mark(function t(r,e){var n,o;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `"+n.component+"`");case 5:return o=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:o}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),V=(()=>{var e=J(_().mark(function t(r,e){var n,o,a,i;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o=[0],console.log(JSON.stringify(n.certdata)),a=0;a<Object.values(n.certdata).length;a++)"object"==z(i=Object.values(n.certdata)[a])?o.push(JSON.stringify(i)):o.push(i);return console.log(o),t.next=9,u.Query("INSERT INTO `"+n.component+"` VALUES (?)",[o]);case 9:return t.abrupt("return",e.json({msg:"Ok!"}));case 10:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),X=(()=>{var e=J(_().mark(function t(r,e){var n,o,a;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.certdata,o=a.id,a=q(a,U),t.next=6,u.Query("UPDATE `"+n.component+"` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Z=(()=>{var e=J(_().mark(function t(r,e){var n;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `"+n.component+"` WHERE id = ?",[n.certdata.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var tt=["id"];function rt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function P(){P=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==$(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError($(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function et(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function nt(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){et(n,r,e,o,a,"next",t)}function a(t){et(n,r,e,o,a,"throw",t)}o(void 0)})}}var n=r.Router({mergeParams:!0}),ot=(()=>{var e=nt(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `onay-kurumlar`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),at=(()=>{var e=nt(P().mark(function t(r,e){var n,o;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `onay-kurumlar` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),it=(()=>{var e=nt(P().mark(function t(r,e){var n,o,a;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,a=rt(n,tt),t.next=6,u.Query("UPDATE `onay-kurumlar` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ut=(()=>{var e=nt(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `onay-kurumlar` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ct=require("multer");let g=require("fs");var st=r.Router({mergeParams:!0}),o=ct.diskStorage({destination:function(t,r,e){t=t.body.dest_path,t=process.cwd()+"/public"+t;(0,g.existsSync)(t)||(0,g.mkdirSync)(t,{recursive:!0}),e(null,t)},filename:function(t,r,e){e(null,t.body.filename+"."+r.originalname.split(".").pop())}}),ct=ct({storage:o});function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lt=["id"];function pt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function T(){T=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==ft(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(ft(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function ht(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function yt(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){ht(n,r,e,o,a,"next",t)}function a(t){ht(n,r,e,o,a,"throw",t)}o(void 0)})}}var o=r.Router({mergeParams:!0}),dt=(()=>{var e=yt(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `proje-firma`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),mt=(()=>{var e=yt(T().mark(function t(r,e){var n,o;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `proje-firma` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),vt=(()=>{var e=yt(T().mark(function t(r,e){var n,o,a;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,a=pt(n,lt),t.next=6,u.Query("UPDATE `proje-firma` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),gt=(()=>{var e=yt(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `proje-firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var wt=["id"];function xt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function D(){D=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==bt(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(bt(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function Et(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function a(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){Et(n,r,e,o,a,"next",t)}function a(t){Et(n,r,e,o,a,"throw",t)}o(void 0)})}}var i=r.Router({mergeParams:!0}),jt=(()=>{var e=a(D().mark(function t(r,e){var n;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `personel`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ot=(()=>{var e=a(D().mark(function t(r,e){var n,o;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `personel` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Lt=(()=>{var e=a(D().mark(function t(r,e){var n,o,a;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,a=xt(n,wt),t.next=6,u.Query("UPDATE `personel` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),kt=(()=>{var e=a(D().mark(function t(r,e){var n;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `personel` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),St=(()=>{var e=a(D().mark(function t(r,e){var n,o;return D().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.personel_id,t.next=6,u.Query("Select name FROM `personel` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Pt=["id"];function Tt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function N(){N=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==_t(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(_t(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function Dt(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Nt(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){Dt(n,r,e,o,a,"next",t)}function a(t){Dt(n,r,e,o,a,"throw",t)}o(void 0)})}}var c=r.Router({mergeParams:!0}),Ft=(()=>{var e=Nt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Gt=(()=>{var e=Nt(N().mark(function t(r,e){var n,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `as-firma` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Rt=(()=>{var e=Nt(N().mark(function t(r,e){var n,o,a;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,a=Tt(n,Pt),t.next=6,u.Query("UPDATE `as-firma` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),It=(()=>{var e=Nt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `as-firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),At=(()=>{var e=Nt(N().mark(function t(r,e){var n,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("Select * FROM `as-firma` WHERE id = ?",[n.as_firma_id]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();let Qt=require("node:child_process"),b=require("path");function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(){F=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==Ht(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Ht(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function Mt(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Wt(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){Mt(n,r,e,o,a,"next",t)}function a(t){Mt(n,r,e,o,a,"throw",t)}o(void 0)})}}function Yt(){return(Yt=Wt(F().mark(function t(l){var p,r,h,y,d,e,m;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:p="sources/asansor/tuvnord-forms/",r=(new Date).getTime().toString(),l.map(function(t){"{formpathsfolder}"==t.search&&(r=t.text)}),h="public/uploads/planlama/denetim/"+r,y=g.readFileSync("".concat(p,"/denetim_oncesi_ozellikler.json"),"utf-8"),y=JSON.parse(y),d={0:"/uploads/planlama/denetim/".concat(r,"/"),1:"/uploads/planlama/denetim/".concat(r,"/"),2:"/uploads/planlama/denetim/".concat(r,"/"),3:"/uploads/planlama/denetim/".concat(r,"/"),4:"/uploads/planlama/denetim/".concat(r,"/")},g.existsSync(h)||g.mkdirSync(h,{recursive:!0}),e=F().mark(function t(){var r,e,n,o,a,i,u,c,s,f;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=y[m],r=a.filename,e=a.searchs,a=b.join(process.cwd(),p,r),n=b.join(process.cwd(),h,r),d[m]+=r,g.copyFileSync(a,n),o=l.filter(function(r){return e.some(function(t){return r.search===t})}),a=n.replace(".docx",".json"),i=[],u=0;u<o.length;u++)"{modul}"===(c=o[u]).search?(s=c.text.replace("Modul ",""),f={search:"{modul_g_bool}",text:"G"===s,type:"boolean"},i.push({search:"{G}",text:"G"===s?"√":" ",type:"text"}),i.push(f),f={search:"{modul_b_bool}",text:"B"===s,type:"boolean"},i.push({search:"{B}",text:"B"===s?"√":" ",type:"text"}),i.push(f),f={search:"{modul_e_bool}",text:"E"===s,type:"boolean"},i.push({search:"{E}",text:"E"===s?"√":" ",type:"text"}),i.push(f),f={search:"{modul_h1_bool}",text:"H1"===s,type:"boolean"},i.push({search:"{H1}",text:"H1"===s?"√":" ",type:"text"}),i.push(f)):i.push(c);console.log(i),g.writeFileSync(a,JSON.stringify({filename:r,kelimeler:i}));case 11:case"end":return t.stop()}},t)}),m=0;case 10:if(m<y.length)return t.delegateYield(e(),"t0",12);t.next=15;break;case 12:m++,t.next=10;break;case 15:return t.next=17,Ut(b.join(process.cwd(),h));case 17:return t.abrupt("return",{formpaths:d,formpathsfolder:r.toString()});case 18:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ct(){return(Ct=Wt(F().mark(function t(r,l,e){var p,h,y,d,m,n,v;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:p="sources/asansor/teknikdosya/".concat(r,"/"),console.log(p),h=(new Date).getTime().toString(),console.log("tamam"),l.map(function(t){"{formpathsfolder}"==t.search&&(h=t.text)}),y="public/uploads/planlama/denetim/"+h+"/teknikdosya",d=g.readFileSync("".concat(p,"/ozellikler.json"),"utf-8"),console.log(d),d=JSON.parse(d),m=[],g.existsSync(y)||g.mkdirSync(y,{recursive:!0}),e?(e.kabinust||(d=d.filter(function(t){return"20.Kabin Üst Risk Analiz.docx"!==t.filename})),e.kuyudip||(d=d.filter(function(t){return"21.Kuyu Dip Risk Analiz.docx"!==t.filename})),e.makdairesi||(d=d.filter(function(t){return"22.Makine Dairesi Risk Analiz.docx"!==t.filename}))):d=d.filter(function(t){return!("20.Kabin Üst Risk Analiz.docx"===t.filename||"21.Kuyu Dip Risk Analiz.docx"===t.filename||"22.Makine Dairesi Risk Analiz.docx"===t.filename)}),console.log(d),n=F().mark(function t(){var r,e,n,o,a,i,u,c,s,f;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=d[v],r=a.filename,e=a.searchs,a=b.join(process.cwd(),p,r),n=b.join(process.cwd(),y,r),m.push("/uploads/planlama/denetim/".concat(h,"/teknikdosya/").concat(r)),g.copyFileSync(a,n),o=l.filter(function(r){return e.some(function(t){return r.search===t})}),a=n.replace(".docx",".json"),i=[],u=0;u<o.length;u++)"{modul}"===(c=o[u]).search?(s=c.text.replace("Modul ",""),f={search:"{modul_g_bool}",text:"G"===s,type:"boolean"},i.push({search:"{G}",text:"G"===s?"√":" ",type:"text"}),i.push(f),f={search:"{modul_b_bool}",text:"B"===s,type:"boolean"},i.push({search:"{B}",text:"B"===s?"√":" ",type:"text"}),i.push(f),f={search:"{modul_e_bool}",text:"E"===s,type:"boolean"},i.push({search:"{E}",text:"E"===s?"√":" ",type:"text"}),i.push(f),f={search:"{modul_h1_bool}",text:"H1"===s,type:"boolean"},i.push({search:"{H1}",text:"H1"===s?"√":" ",type:"text"}),i.push(f)):i.push(c);g.writeFileSync(a,JSON.stringify({filename:r,kelimeler:i}));case 10:case"end":return t.stop()}},t)}),v=0;case 15:if(v<d.length)return t.delegateYield(n(),"t0",17);t.next=20;break;case 17:v++,t.next=15;break;case 20:return t.next=22,Ut(b.join(process.cwd(),y));case 22:return t.abrupt("return",{formpaths:m,formpathsfolder:h.toString()});case 23:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ut(){return qt.apply(this,arguments)}function qt(){return(qt=Wt(F().mark(function t(n){var o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=b.join(process.cwd(),"sources/asansor/shell-scripts/find-replace.ps1"),t.next=3;var r="powershell.exe -File ".concat(o," -folderPath ").concat(n," -Verb RunAs"),e=(0,Qt.spawn)(r,{shell:!0});return new Promise(function(r){e.stdout.on("data",function(t){process.stdout.write(t.toString())}),e.stderr.on("data",function(t){process.stderr.write(t.toString())}),e.on("exit",function(t){r(t)}),e.stdin.end()});case 3:return t.abrupt("return");case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var zt=["id"];function Bt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Jt(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function s(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=G(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=G(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==G(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Jt(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function R(){R=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==G(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(G(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function Kt(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function f(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){Kt(n,r,e,o,a,"next",t)}function a(t){Kt(n,r,e,o,a,"throw",t)}o(void 0)})}}var l=r.Router({mergeParams:!0}),Vt=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,function(){return Yt.apply(this,arguments)}(o);case 6:return o=t.sent,t.abrupt("return",e.json(o));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Xt=(()=>{var e=f(R().mark(function t(r,e){var n,o,a;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.start_date,o=n.end_date,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y'))",[a,o]);case 6:return a=t.sent,t.abrupt("return",e.json(s({},a)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Zt=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.last_date,t.next=6,u.Query("SELECT * from `planlama` WHERE str_to_date(denetim_tarih,'%d.%m.%Y') = str_to_date(?,'%d.%m.%Y')",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),$t=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `planlama` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),tr=(()=>{var e=f(R().mark(function t(r,e){var n,o,a;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,a=Bt(n,zt),t.next=6,u.Query("UPDATE `planlama` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),rr=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `planlama` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),er=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),nr=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT id,name,modul_atama FROM `personel` WHERE status = ? AND gorev = ?",[1,"Denetçi"]);case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),or=(()=>{var e=f(R().mark(function t(r,e){var n,o,a;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.il_id,o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `mahalleler` where il_id = ? AND ilce_id = ?",[a,o]);case 6:return a=t.sent,t.abrupt("return",e.json(s({},a)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ar=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `ilceler` where il_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ir=(()=>{var e=f(R().mark(function t(r,e){var n;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `iller`");case 5:return n=t.sent,t.abrupt("return",e.json(s({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ur=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `iller` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),cr=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `ilceler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),sr=(()=>{var e=f(R().mark(function t(r,e){var n,o;return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.mahalle_id,t.next=6,u.Query("SELECT * FROM `mahalleler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(s({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var fr=["id"];function lr(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function A(){A=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==I(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(I(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function pr(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function p(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=I(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=I(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==I(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):pr(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function hr(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function h(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){hr(n,r,e,o,a,"next",t)}function a(t){hr(n,r,e,o,a,"throw",t)}o(void 0)})}}var y=r.Router({mergeParams:!0}),yr=(()=>{var e=h(A().mark(function t(r,e){var n,o,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,a=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),dr=(()=>{var e=h(A().mark(function t(r,e){var n,o,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,a=n.risk,t.next=6,u.Query("UPDATE `denetim` SET risk = ? WHERE id = ?",[JSON.stringify(a),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),mr=(()=>{var e=h(A().mark(function t(r,e){var n,o,a,i;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.start_date,o=n.end_date,a=n.plan_status,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y')) AND status = ?",[i,o,a]);case 6:return i=t.sent,t.abrupt("return",e.json(p({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),vr=(()=>{var e=h(A().mark(function t(r,e){var n,o,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,a=n.imzali_formlar,t.next=6,u.Query("UPDATE `denetim` SET imzali_formlar = ? WHERE id = ?",[JSON.stringify(a),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),gr=(()=>{var e=h(A().mark(function t(r,e){var n,o,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,a=n.tds_folders,t.next=6,u.Query("UPDATE `denetim` SET tds_folders = ? WHERE id = ?",[JSON.stringify(a),o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),br=(()=>{var e=h(A().mark(function t(r,e){var n,o,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,a=n.modulb_certs,console.log(n),t.next=7,u.Query("UPDATE `denetim` SET modulb_certs = ? WHERE id = ?",[JSON.stringify(a),o]);case 7:return t.abrupt("return",e.json(p({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),wr=(()=>{var e=h(A().mark(function t(r,e){var n;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `denetim` WHERE planlama_id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),xr=(()=>{var e=h(A().mark(function t(r,e){var n,o;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.tablename,t.next=6,u.Query("SELECT * FROM `"+o+"`");case 6:return o=t.sent,t.abrupt("return",e.json(p({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Er=(()=>{var e=h(A().mark(function t(r,e){var n,o,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.tur,o=n.certId,t.next=6,u.Query("SELECT * FROM `"+a+"` WHERE id = ?",[o]);case 6:return a=t.sent,t.abrupt("return",e.json(p({},a)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),jr=(()=>{var e=h(A().mark(function t(r,e){var n,o;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(p({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Or=(()=>{var e=h(A().mark(function t(r,e){var n;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `denetim` SET ?",[n]);case 5:return t.abrupt("return",e.json(p({},n)));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Lr=(()=>{var e=h(A().mark(function t(r,e){var n,o,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,a=lr(n,fr),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json(p({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var kr=["id"];function Sr(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function H(){H=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==Q(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Q(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function _r(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function Pr(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=Q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=Q(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==Q(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):_r(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Tr(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Dr(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){Tr(n,r,e,o,a,"next",t)}function a(t){Tr(n,r,e,o,a,"throw",t)}o(void 0)})}}var d=r.Router({mergeParams:!0}),Nr=(()=>{var e=Dr(H().mark(function t(r,e){var n,o,a;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,a=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json(Pr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Fr=(()=>{var e=Dr(H().mark(function t(r,e){var n,o,a;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),o=n.id,a=Sr(n,kr),t.next=7,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[a,o]);case 7:return t.abrupt("return",e.json(Pr({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Gr=(()=>{var e=Dr(H().mark(function t(r,e){var n,o;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.as_firma_id,t.next=6,u.Query("SELECT * FROM `as-firma` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Pr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Rr=(()=>{var e=Dr(H().mark(function t(r,e){var n,o;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_status,t.next=6,u.Query("SELECT * FROM `planlama` where status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Pr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ir=(()=>{var e=Dr(H().mark(function t(r,e){var n,o;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Pr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Ar(t){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(){Qr=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==Ar(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Ar(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function Hr(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Mr(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){Hr(n,r,e,o,a,"next",t)}function a(t){Hr(n,r,e,o,a,"throw",t)}o(void 0)})}}function Wr(t){var e=(0,Qt.spawn)(t,{shell:!0});return new Promise(function(r){e.stdout.on("data",function(t){process.stdout.write(t.toString())}),e.stderr.on("data",function(t){process.stderr.write(t.toString())}),e.on("exit",function(t){r(t)}),e.stdin.end()})}function Yr(){return(Yr=Mr(Qr().mark(function t(r,e){var n;return Qr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.join(process.cwd(),"sources/asansor/shell-scripts/make-zip.ps1"),t.next=3,Wr("powershell.exe ".concat(n," -folderPath ").concat(r," -zipPath ").concat(e));case 3:return t.abrupt("return");case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}let Cr=require("node:fs");function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ur=["denetim_id"];function W(){W=function(){return i};var c,i={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{a({},"")}catch(c){a=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,a,i,u,r=r&&r.prototype instanceof v?r:v,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,a=e,i=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(i.method=t,i.arg=r;;){var e=i.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}(e,i);if(e){if(e===m)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===p)throw u=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;e=l(o,a,i);if("normal"===e.type){if(u=i.done?d:h,e.arg===m)continue;return{value:e.arg,done:i.done}}"throw"===e.type&&(u=d,i.method="throw",i.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",m={};function v(){}function g(){}function b(){}var r={},w=(a(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=v.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){a(t,r,function(t){return this._invoke(r,t)})})}function j(i,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var a,t=l(i[t],i,e);if("throw"!==t.type)return(e=(a=t.arg).value)&&"object"==M(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){a.value=t,n(a)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(M(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=a(b,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},E(j.prototype),a(j.prototype,e,function(){return this}),i.AsyncIterator=j,i.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var a=new j(u(t,r,e,n),o);return i.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(x),a(x,o,"Generator"),a(x,n,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),m}},i}function qr(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function zr(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=M(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=M(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==M(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):qr(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Br(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)e=o[a],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Jr(t,r,e,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function m(u){return function(){var t=this,i=arguments;return new Promise(function(r,e){var n=u.apply(t,i);function o(t){Jr(n,r,e,o,a,"next",t)}function a(t){Jr(n,r,e,o,a,"throw",t)}o(void 0)})}}var v=r.Router({mergeParams:!0}),Kr=(()=>{var e=m(W().mark(function t(r,e){var n,o,a;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,a=Br(n,Ur),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json(zr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Vr=(()=>{var e=m(W().mark(function t(r,e){var n,o,a,i,u,c,s;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o="".concat(process.cwd(),"/public/downloads/").concat((new Date).getTime()),(0,Cr.existsSync)(o)||(0,Cr.mkdirSync)(o,{recursive:!0}),a=n.forms,i=0;i<a.length;i++)c=a[i],u=c.url,c=c.filename,u&&(console.log("".concat(process.cwd(),"/public/").concat(u)),(u.includes("7.Photo")||u.includes("6.Declaration of Confirmity")||u.includes("8.Technical Descriptions and Manuals"))&&(u=u.replaceAll(".docx",".pdf")),(0,Cr.copyFileSync)("".concat(process.cwd(),"/public/").concat(u),"".concat((0,b.join)(o,c))));return t.next=9,function(){return Yr.apply(this,arguments)}(o,o);case 9:return s=o.split("/").slice(-2).join("/"),t.abrupt("return",e.json({downurl:"/".concat(s,".zip")}));case 11:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Xr=(()=>{var e=m(W().mark(function t(r,e){var n,o,a;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,a=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[a,o]);case 6:return t.abrupt("return",e.json(zr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Zr=(()=>{var e=m(W().mark(function t(r,e){var n,o;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.status,t.next=6,u.Query("SELECT * FROM `planlama` WHERE status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(zr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),$r=(()=>{var e=m(W().mark(function t(r,e){var n,o,a;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.comp_name,o=n.cert_id,t.next=6,u.Query("Select * from `onay-kurumlar` where id = (Select onay_kurum_id from `"+a+"` where id = "+o+")");case 6:return a=t.sent,t.abrupt("return",e.json(zr({},a)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),te=(()=>{var e=m(W().mark(function t(r,e){var n,o,a,i;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:if(o=n.comp_name,a=n.cert_id,"hiz-regulatoru"===o)return t.next=7,u.Query("Select cert_no,nom_hiz,tripped_hiz from `"+o+"` where id = "+a);t.next=10;break;case 7:i=t.sent,t.next=19;break;case 10:if("fren"===o||"tampon"===o)return t.next=13,u.Query("Select cert_no,hiz,kapasite from `"+o+"` where id = "+a);t.next=16;break;case 13:i=t.sent,t.next=19;break;case 16:return t.next=18,u.Query("Select cert_no from `"+o+"` where id = "+a);case 18:i=t.sent;case 19:return t.abrupt("return",e.json(zr({},i)));case 20:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),re=(()=>{var e=m(W().mark(function t(r,e){var n,o,a,i;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.template_name,a=n.sended_data,o=n.risk,a=Object.values(a),t.next=7,function(){return Ct.apply(this,arguments)}(i,a,o?JSON.parse(o):null);case 7:return i=t.sent,t.abrupt("return",e.json(i));case 9:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ee=r.Router({mergeParams:!0}),ne=require("body-parser"),oe=require("method-override"),w=require("cookie-parser"),ae=require("express-session"),ie=require("connect-flash"),ue=require("passport"),x=require("compression"),t=((0,t.config)({path:["const.env"]}),r()),ce=process.env.PORT||3e3;t.use(x()),t.use(w("secret")),t.use(ae({secret:"secret",resave:!0,saveUninitialized:!1,cookie:{maxAge:864e5}})),t.engine(".hbs",(0,E.engine)({defaultLayout:"main",extname:".hbs",layoutsDir:"views/layouts",partialsDir:"views/partials",helpers:{calc:function(t){return t+7},list:function(t,r,e){return"<h3>"+e.fn({test:t,test1:r,label:"custom Helper List"})},IsEq:function(t,r,e){return t===r?e.fn(this):e.inverse(this)},BiggerThan:function(t,r){return 0<t.length?r.fn(this):r.inverse(this)},LessThan:function(t,r){return t.length<=0?r.fn(this):r.inverse(this)},Inc:function(t,r){return parseInt(t)+1},Json:function(t,r){return JSON.stringify(t)}}})),t.set("view engine",".hbs"),t.set("views","".concat(process.cwd(),"/views")),t.use(r.static("public")),t.use(ne.urlencoded({limit:"50mb",extended:!0})),t.use(ne.json({limit:"50mb"})),t.use(oe("_method")),t.use(ie()),t.use(ue.initialize()),t.use(ue.session()),w=x=t,e.post("/sertifikalar/get-list",K),e.post("/sertifikalar/add",V),e.post("/sertifikalar/update",X),e.post("/sertifikalar/delete",Z),w.use("/",e),w=x,n.post("/onay-kurumlar/get-list",ot),n.post("/onay-kurumlar/add",at),n.post("/onay-kurumlar/update",it),n.post("/onay-kurumlar/delete",ut),w.use("/",n),w=x,o.post("/proje-firma/get-list",dt),o.post("/proje-firma/add",mt),o.post("/proje-firma/update",vt),o.post("/proje-firma/delete",gt),w.use("/",o),w=x,i.post("/personel/get-list",jt),i.post("/personel/add",Ot),i.post("/personel/update",Lt),i.post("/personel/delete",kt),i.post("/personel/get-personel-name",St),w.use("/",i),w=x,st.post("/stat/fileupload",ct.single("file"),function(t,r){r.status(200).json({msg:"Ok!"})}),st.post("/stat/filedelete",function(t,r){return t.body?(t=t.body.filepath,t=process.cwd()+"/public"+t,(0,g.existsSync)(t)&&(0,g.unlinkSync)(t),r.json({msg:"Kaldırıldı"})):r.json({msg:"Data Not found"})}),st.post("/stat/folderdelete",function(t,r){var e;return t.body?(t=t.body.folderpath,t=process.cwd()+"/public"+t,console.log(t),(e=(0,g.existsSync)(t))&&(console.log("isExist:",e),(0,g.rmdirSync)(t,{recursive:!0})),r.json({msg:"Kaldırıldı"})):r.json({msg:"Data Not found"})}),w.use("/",st),w=x,c.post("/as-firma/get-list",Ft),c.post("/as-firma/add",Gt),c.post("/as-firma/update",Rt),c.post("/as-firma/delete",It),c.post("/as-firma/get-firma-name",At),w.use("/",c),w=x,l.post("/planlama/denetim-formlar",Vt),l.post("/planlama/get-il",ur),l.post("/planlama/get-iller",ir),l.post("/planlama/get-ilce",cr),l.post("/planlama/get-ilceler",ar),l.post("/planlama/get-mahalle",sr),l.post("/planlama/get-mahalleler",or),l.post("/planlama/get-denetciler",nr),l.post("/planlama/get-as-firmalar",er),l.post("/planlama/add",$t),l.post("/planlama/update",tr),l.post("/planlama/delete",rr),l.post("/planlama/get-planlamalar",Xt),l.post("/planlama/get-lastday-plans",Zt),w.use("/",l),w=x,y.post("/denetim/get-denetim-by-planid",jr),y.post("/denetim/save-asansor-bilgi",Or),y.post("/denetim/update-asansor-bilgi",Lr),y.post("/denetim/get-sertifika",Er),y.post("/denetim/delete-denetim",wr),y.post("/denetim/get-comps",xr),y.post("/denetim/update-modulb-list",br),y.post("/denetim/update-imzali-formlar",vr),y.post("/denetim/update-tds-folders",gr),y.post("/denetim/get-planlamalar",mr),y.post("/denetim/update-risk",dr),y.post("/denetim/update-planstatus",yr),w.use("/",y),w=x,d.post("/proje/get-planlamalar",Rr),d.post("/proje/get-denetim-by-planid",Ir),d.post("/proje/get-asansor-firmaByplanId",Gr),d.post("/proje/update-denetim-proje",Fr),d.post("/proje/update-plan-status",Nr),w.use("/",d),w=x,v.post("/tds/get-planlamalar",Zr),v.post("/tds/get-onay-kurum",$r),v.post("/tds/get-cert",te),v.post("/tds/teknik-dosya",re),v.post("/tds/update-plan-status",Xr),v.post("/tds/download-forms",Vr),v.post("/tds/update-ab-son-tarih",Kr),w.use("/",v),ee.get("/*",function(t,r){return r.render("pages/dashboard.hbs")}),ee.get("/.well-known/pki-validation/8EF0E148BC848A44E6EAFE8F9FADF56F.txt",j),x.use("/",ee),t.all("**",function(t,r){r.render("pages/404.hbs")}),t.listen(ce,function(){console.log("Server is starting at ".concat(ce))})})();