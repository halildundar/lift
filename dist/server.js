/*! For license information please see server.js.LICENSE.txt */
(()=>{var t=require("dotenv"),r=require("express"),x=require("express-handlebars");function E(t,r){r.sendFile("".concat(process.cwd(),"/sources/8EF0E148BC848A44E6EAFE8F9FADF56F.txt"))}let j=require("mysql");function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function k(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?L(Object(e),!0).forEach(function(t){S(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):L(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function S(t,r,e){return(r=(t=>(t=((t,r)=>{if("object"!=O(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=O(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==O(t)?t:t+""))(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}(0,t.config)({path:["const.env"]});var C=S(S(S({connectionLimit:5,host:process.env.MYSQL_DB_HOST,user:process.env.MYSQL_DB_USERNAME1,password:process.env.MYSQL_DB_PASSWORD1,database:process.env.MYSQL_DB_NAME},"connectionLimit",20),"idleTimeoutMillis",3e4),"connectionTimeoutMillis",2e3),u=new function(t,r,e){var t=k(k({},C),{},{database:t,user:r,password:e}),i=j.createPool(t);return{Connection:function(){return new Promise(function(t,r){i.getConnection(function(e,o){e&&r(e),console.log("MySQL pool connected: threadId "+o.threadId);t({query:function(t,r){return new Promise(function(e,n){o.query(t,r,function(t,r){t&&n(t),e(r)})})},release:function(){return new Promise(function(t,r){e&&r(e),console.log("MySQL pool released: threadId "+o.threadId),t(o.release())})}})})})},Query:function(t,r){return new Promise(function(n,o){i.query(t,r,function(t,r,e){t&&o(t),n(r)})})}}}(C.database,C.user,C.password),q=["id"];function U(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){_=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==z(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(z(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function J(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function B(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){J(n,r,e,o,i,"next",t)}function i(t){J(n,r,e,o,i,"throw",t)}o(void 0)})}}var K=r.Router({mergeParams:!0}),V=(()=>{var e=B(_().mark(function t(r,e){var n,o;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `"+n.component+"`");case 5:return o=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:o}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),X=(()=>{var e=B(_().mark(function t(r,e){var n,o,i,a;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o=[0],console.log(JSON.stringify(n.certdata)),i=0;i<Object.values(n.certdata).length;i++)"object"==z(a=Object.values(n.certdata)[i])?o.push(JSON.stringify(a)):o.push(a);return console.log(o),t.next=9,u.Query("INSERT INTO `"+n.component+"` VALUES (?)",[o]);case 9:return t.abrupt("return",e.json({msg:"Ok!"}));case 10:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Z=(()=>{var e=B(_().mark(function t(r,e){var n,o,i;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.certdata,o=i.id,i=U(i,q),t.next=6,u.Query("UPDATE `"+n.component+"` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),$=(()=>{var e=B(_().mark(function t(r,e){var n;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `"+n.component+"` WHERE id = ?",[n.certdata.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var rt=["id"];function et(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function P(){P=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==tt(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(tt(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function nt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function ot(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){nt(n,r,e,o,i,"next",t)}function i(t){nt(n,r,e,o,i,"throw",t)}o(void 0)})}}var it=r.Router({mergeParams:!0}),at=(()=>{var e=ot(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `onay-kurumlar`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ut=(()=>{var e=ot(P().mark(function t(r,e){var n,o;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `onay-kurumlar` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ct=(()=>{var e=ot(P().mark(function t(r,e){var n,o,i;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=et(n,rt),t.next=6,u.Query("UPDATE `onay-kurumlar` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),st=(()=>{var e=ot(P().mark(function t(r,e){var n;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `onay-kurumlar` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ft=require("multer");let n=require("fs");var lt=r.Router({mergeParams:!0}),e=ft.diskStorage({destination:function(t,r,e){t=t.body.dest_path,t=process.cwd()+"/public"+t;(0,n.existsSync)(t)||(0,n.mkdirSync)(t,{recursive:!0}),e(null,t)},filename:function(t,r,e){e(null,t.body.filename+"."+r.originalname.split(".").pop())}}),ft=ft({storage:e});function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ht=["id"];function yt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function T(){T=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==pt(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(pt(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function dt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function o(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){dt(n,r,e,o,i,"next",t)}function i(t){dt(n,r,e,o,i,"throw",t)}o(void 0)})}}var e=r.Router({mergeParams:!0}),vt=(()=>{var e=o(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `personel` WHERE gorev = 'Danışman'");case 5:return n=t.sent,t.abrupt("return",e.json(n));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),mt=(()=>{var e=o(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `personel` WHERE gorev != 'Danışman'");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),gt=(()=>{var e=o(T().mark(function t(r,e){var n,o;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=Object.values(n),t.next=6,u.Query("INSERT INTO `personel` VALUES (0,?)",[[].concat(o)]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),bt=(()=>{var e=o(T().mark(function t(r,e){var n,o,i;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=yt(n,ht),t.next=6,u.Query("UPDATE `personel` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),wt=(()=>{var e=o(T().mark(function t(r,e){var n;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `personel` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),xt=(()=>{var e=o(T().mark(function t(r,e){var n,o;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.personel_id,t.next=6,u.Query("Select name FROM `personel` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var jt=["id"];function Ot(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function N(){N=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Et(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Et(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Lt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function kt(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Lt(n,r,e,o,i,"next",t)}function i(t){Lt(n,r,e,o,i,"throw",t)}o(void 0)})}}var i=r.Router({mergeParams:!0}),St=(()=>{var e=kt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json({msg:"Ok!",data:n}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),_t=(()=>{var e=kt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `as-firma` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Pt=(()=>{var e=kt(N().mark(function t(r,e){var n,o,i;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=Ot(n,jt),t.next=6,u.Query("UPDATE `as-firma` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Tt=(()=>{var e=kt(N().mark(function t(r,e){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `as-firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Nt=(()=>{var e=kt(N().mark(function t(r,e){var n,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("Select * FROM `as-firma` WHERE id = ?",[n.as_firma_id]);case 6:return o=t.sent,t.abrupt("return",e.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Dt=["id"];function Ft(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Rt(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function a(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=D(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=D(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==D(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Rt(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function F(){F=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==D(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(D(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Gt(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function c(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Gt(n,r,e,o,i,"next",t)}function i(t){Gt(n,r,e,o,i,"throw",t)}o(void 0)})}}var s=r.Router({mergeParams:!0}),It=(()=>{var e=c(F().mark(function t(r,e){var n,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=r.body){t.next=4;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 4:return t.next=6,fetch("http://localhost:4000/planlama/denetim-formlar",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return o=t.sent,t.next=9,o.json();case 9:return o=t.sent,t.abrupt("return",e.json(o));case 13:t.prev=13,t.t0=t.catch(0),e.json({msg:"Hata"});case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(t,r){return e.apply(this,arguments)}})(),Qt=(()=>{var e=c(F().mark(function t(r,e){var n,o,i;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.start_date,o=n.end_date,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y'))",[i,o]);case 6:return i=t.sent,t.abrupt("return",e.json(a({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),At=(()=>{var e=c(F().mark(function t(r,e){var n,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.last_date,t.next=6,u.Query("SELECT * from `planlama` WHERE str_to_date(denetim_tarih,'%d.%m.%Y') = str_to_date(?,'%d.%m.%Y')",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(a({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ht=(()=>{var e=c(F().mark(function t(r,e){var n;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `planlama` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Wt=(()=>{var e=c(F().mark(function t(r,e){var n,o,i;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=Ft(n,Dt),t.next=6,u.Query("UPDATE `planlama` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Mt=(()=>{var e=c(F().mark(function t(r,e){var n;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),t.next=6,u.Query("DELETE FROM `planlama` WHERE id = ?",[n.id]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Yt=(()=>{var e=c(F().mark(function t(r,e){var n;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `as-firma`");case 5:return n=t.sent,t.abrupt("return",e.json(a({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ct=(()=>{var e=c(F().mark(function t(r,e){var n;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT id,name,modul_atama FROM `personel` WHERE status = ? AND gorev = ?",[1,"Denetçi"]);case 5:return n=t.sent,t.abrupt("return",e.json(a({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),qt=(()=>{var e=c(F().mark(function t(r,e){var n,o,i;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.il_id,o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `mahalleler` where il_id = ? AND ilce_id = ?",[i,o]);case 6:return i=t.sent,t.abrupt("return",e.json(a({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ut=(()=>{var e=c(F().mark(function t(r,e){var n,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `ilceler` where il_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(a({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),zt=(()=>{var e=c(F().mark(function t(r,e){var n;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `iller`");case 5:return n=t.sent,t.abrupt("return",e.json(a({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Jt=(()=>{var e=c(F().mark(function t(r,e){var n,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.il_id,t.next=6,u.Query("SELECT * FROM `iller` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(a({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Bt=(()=>{var e=c(F().mark(function t(r,e){var n,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.ilce_id,t.next=6,u.Query("SELECT * FROM `ilceler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(a({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Kt=(()=>{var e=c(F().mark(function t(r,e){var n,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.mahalle_id,t.next=6,u.Query("SELECT * FROM `mahalleler` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(a({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Vt=["id"];function Xt(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function G(){G=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==R(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(R(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Zt(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function f(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=R(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=R(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==R(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Zt(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function $t(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function l(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){$t(n,r,e,o,i,"next",t)}function i(t){$t(n,r,e,o,i,"throw",t)}o(void 0)})}}var p=r.Router({mergeParams:!0}),tr=(()=>{var e=l(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(f({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),rr=(()=>{var e=l(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.risk,t.next=6,u.Query("UPDATE `denetim` SET risk = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(f({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),er=(()=>{var e=l(G().mark(function t(r,e){var n,o,i,a;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return a=n.start_date,o=n.end_date,i=n.plan_status,t.next=6,u.Query("SELECT * from `planlama` WHERE (str_to_date(denetim_tarih,'%d.%m.%Y') between str_to_date(?,'%d.%m.%Y') AND str_to_date(?,'%d.%m.%Y')) AND status = ?",[a,o,i]);case 6:return a=t.sent,t.abrupt("return",e.json(f({},a)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),nr=(()=>{var e=l(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.imzali_formlar,t.next=6,u.Query("UPDATE `denetim` SET imzali_formlar = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(f({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),or=(()=>{var e=l(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.tds_folders,t.next=6,u.Query("UPDATE `denetim` SET tds_folders = ? WHERE id = ?",[JSON.stringify(i),o]);case 6:return t.abrupt("return",e.json(f({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ir=(()=>{var e=l(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=n.modulb_certs,console.log(n),t.next=7,u.Query("UPDATE `denetim` SET modulb_certs = ? WHERE id = ?",[JSON.stringify(i),o]);case 7:return t.abrupt("return",e.json(f({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ar=(()=>{var e=l(G().mark(function t(r,e){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `denetim` WHERE planlama_id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ur=(()=>{var e=l(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.tablename,t.next=6,u.Query("SELECT * FROM `"+o+"`");case 6:return o=t.sent,t.abrupt("return",e.json(f({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),cr=(()=>{var e=l(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.tur,o=n.certId,t.next=6,u.Query("SELECT * FROM `"+i+"` WHERE id = ?",[o]);case 6:return i=t.sent,t.abrupt("return",e.json(f({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),sr=(()=>{var e=l(G().mark(function t(r,e){var n,o;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(f({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),fr=(()=>{var e=l(G().mark(function t(r,e){var n;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `denetim` SET ?",[n]);case 5:return t.abrupt("return",e.json(f({},n)));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),lr=(()=>{var e=l(G().mark(function t(r,e){var n,o,i;return G().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=Xt(n,Vt),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(f({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var pr=["id"];function hr(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Q(){Q=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==I(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(I(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function yr(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function dr(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=I(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=I(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==I(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):yr(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function vr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function mr(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){vr(n,r,e,o,i,"next",t)}function i(t){vr(n,r,e,o,i,"throw",t)}o(void 0)})}}var gr=r.Router({mergeParams:!0}),br=(()=>{var e=mr(Q().mark(function t(r,e){var n,o,i;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(dr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),wr=(()=>{var e=mr(Q().mark(function t(r,e){var n,o,i;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return console.log(n),o=n.id,i=hr(n,pr),t.next=7,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 7:return t.abrupt("return",e.json(dr({},n)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),xr=(()=>{var e=mr(Q().mark(function t(r,e){var n,o;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.as_firma_id,t.next=6,u.Query("SELECT * FROM `as-firma` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(dr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Er=(()=>{var e=mr(Q().mark(function t(r,e){var n,o;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_status,t.next=6,u.Query("SELECT * FROM `planlama` where status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(dr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),jr=(()=>{var e=mr(Q().mark(function t(r,e){var n,o;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.planId,t.next=6,u.Query("SELECT * FROM `denetim` WHERE planlama_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(dr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();let Or=require("node:child_process"),Lr=require("path");function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sr(){Sr=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==kr(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(kr(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function _r(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Pr(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){_r(n,r,e,o,i,"next",t)}function i(t){_r(n,r,e,o,i,"throw",t)}o(void 0)})}}function Tr(t){var e=(0,Or.spawn)(t,{shell:!0});return new Promise(function(r){e.stdout.on("data",function(t){process.stdout.write(t.toString())}),e.stderr.on("data",function(t){process.stderr.write(t.toString())}),e.on("exit",function(t){r(t)}),e.stdin.end()})}function Nr(){return(Nr=Pr(Sr().mark(function t(r,e){var n;return Sr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Lr.join(process.cwd(),"sources/asansor/shell-scripts/make-zip.ps1"),t.next=3,Tr("powershell.exe ".concat(n," -folderPath ").concat(r," -zipPath ").concat(e));case 3:return t.abrupt("return");case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}let h=require("node:fs");function Dr(t){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Fr=["denetim_id"];function A(){A=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Dr(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Dr(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Rr(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function Gr(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=Dr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=Dr(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==Dr(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Rr(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Ir(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Qr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function y(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Qr(n,r,e,o,i,"next",t)}function i(t){Qr(n,r,e,o,i,"throw",t)}o(void 0)})}}var d=r.Router({mergeParams:!0}),Ar=(()=>{var e=y(A().mark(function t(r,e){var n,o,i;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.denetim_id,i=Ir(n,Fr),t.next=6,u.Query("UPDATE `denetim` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(Gr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Hr=(()=>{var e=y(A().mark(function t(r,e){var n,o,i,a,u,c,s;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:for(o="".concat(process.cwd(),"/public/downloads/").concat((new Date).getTime()),(0,h.existsSync)(o)||(0,h.mkdirSync)(o,{recursive:!0}),i=n.forms,a=0;a<i.length;a++)c=i[a],u=c.url,c=c.filename,u&&(console.log("".concat(process.cwd(),"/public/").concat(u)),(u.includes("7.Photo")||u.includes("6.Declaration of Confirmity")||u.includes("8.Technical Descriptions and Manuals"))&&(u=u.replaceAll(".docx",".pdf")),(0,h.copyFileSync)("".concat(process.cwd(),"/public/").concat(u),"".concat((0,Lr.join)(o,c))));return t.next=9,function(){return Nr.apply(this,arguments)}(o,o);case 9:return s=o.split("/").slice(-2).join("/"),t.abrupt("return",e.json({downurl:"/".concat(s,".zip")}));case 11:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Wr=(()=>{var e=y(A().mark(function t(r,e){var n,o,i;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.plan_id,i=n.status,t.next=6,u.Query("UPDATE `planlama` SET status = ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json(Gr({},n)));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Mr=(()=>{var e=y(A().mark(function t(r,e){var n,o;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.status,t.next=6,u.Query("SELECT * FROM `planlama` WHERE status = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(Gr({},o)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Yr=(()=>{var e=y(A().mark(function t(r,e){var n,o,i;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return i=n.comp_name,o=n.cert_id,t.next=6,u.Query("Select * from `onay-kurumlar` where id = (Select onay_kurum_id from `"+i+"` where id = "+o+")");case 6:return i=t.sent,t.abrupt("return",e.json(Gr({},i)));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Cr=(()=>{var e=y(A().mark(function t(r,e){var n,o,i,a;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:if(o=n.comp_name,i=n.cert_id,"hiz-regulatoru"===o)return t.next=7,u.Query("Select cert_no,nom_hiz,tripped_hiz from `"+o+"` where id = "+i);t.next=10;break;case 7:a=t.sent,t.next=19;break;case 10:if("fren"===o||"tampon"===o)return t.next=13,u.Query("Select cert_no,hiz,kapasite from `"+o+"` where id = "+i);t.next=16;break;case 13:a=t.sent,t.next=19;break;case 16:return t.next=18,u.Query("Select cert_no from `"+o+"` where id = "+i);case 18:a=t.sent;case 19:return t.abrupt("return",e.json(Gr({},a)));case 20:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),qr=(()=>{var e=y(A().mark(function t(r,e){var n,o;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,fetch("http://localhost:4000/tds/teknik-dosya",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return o=t.sent,t.next=8,o.json();case 8:return o=t.sent,t.abrupt("return",e.json(o));case 10:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Ur(t,r,e){if(!t.isAuthenticated())return r.redirect("/signin");e()}var zr=function(t,r,e){if(t.isAuthenticated())return r.redirect("/");e()},Jr=function(t,r){t.session.destroy(function(t){return r.json({ok:!0})})},Br=require("passport-local");let Kr=require("passport");require("bcryptjs");function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(){H=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Vr(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Vr(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Xr(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Zr(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Xr(n,r,e,o,i,"next",t)}function i(t){Xr(n,r,e,o,i,"throw",t)}o(void 0)})}}function $r(o,i){return new Promise((()=>{var e=Zr(H().mark(function t(r,e){var n;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{n=o===i.sifre,r(n||"The password that you've entered is incorrect")}catch(t){e(t)}case 1:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})())}var te=(()=>{var r=Zr(H().mark(function t(r){var e;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Query("SELECT * FROM `personel` WHERE `email` = ? ",r);case 3:return e=t.sent,t.abrupt("return",e[0]);case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(t){return r.apply(this,arguments)}})(),re=(()=>{var r=Zr(H().mark(function t(r){var e;return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Query("SELECT * FROM `personel` WHERE `id` = ? ",r);case 3:return e=t.sent,t.abrupt("return",e[0]);case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(t){return r.apply(this,arguments)}})();function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(){ne=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==ee(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(ee(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function oe(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}var Br=Br.Strategy,ie=function(n,o,i){Kr.authenticate("local",function(t,r,e){switch(n.accepts("html","json")){case"html":if(t)return i(t);if(!r)return o.redirect("/signin");n.logIn(r,function(t){return t?i(t):o.redirect("/")});break;case"json":if(t)return i(t);if(!r)return console.log("Kullunıcı bulunamadı"),o.status(401).json({ok:!1,msg:"Kullunıcı bulunamadı"});if(e)return o.status(401).json({ok:!1,msg:"Email veya şifre hatalı"});n.logIn(r,function(t){return t?(console.log(r,"Hatalı bir durum var"),o.status(401).json({ok:!1,msg:"Hatalı bir durum var"})):o.json({ok:!0})});break;default:o.status(406).json()}})(n,o,i)},ae=(Kr.serializeUser(function(t,r){r(null,t.id)}),Kr.deserializeUser(function(t,r){re(t).then(function(t){return r(null,t)}).catch(function(t){return r(t,null)})}),r.Router({mergeParams:!0}));function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ce=["id"];function se(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function W(){W=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==ue(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(ue(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function fe(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function le(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){fe(n,r,e,o,i,"next",t)}function i(t){fe(n,r,e,o,i,"throw",t)}o(void 0)})}}var v=r.Router({mergeParams:!0}),pe=(()=>{var e=le(W().mark(function t(r,e){var n;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `danis_firma`");case 5:return n=t.sent,t.abrupt("return",e.json(n));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),he=(()=>{var e=le(W().mark(function t(r,e){var n,o;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.danisman_id,t.next=6,u.Query("SELECT * FROM `danis_firma` WHERE danisman_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(o));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ye=(()=>{var e=le(W().mark(function t(r,e){var n;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `danis_firma` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),de=(()=>{var e=le(W().mark(function t(r,e){var n,o,i;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=se(n,ce),t.next=6,u.Query("UPDATE `danis_firma` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ve=(()=>{var e=le(W().mark(function t(r,e){var n;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `danis_firma` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),me=(()=>{var e=le(W().mark(function t(r,e){var n,o;return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("Select * FROM `danis_firma` WHERE id = ?",[n.firma_id]);case 5:return o=t.sent,t.abrupt("return",e.json(o[0]));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();let ge=require("node:path");function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var we=["id"];function xe(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function M(){M=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==be(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(be(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Ee(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function je(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Ee(n,r,e,o,i,"next",t)}function i(t){Ee(n,r,e,o,i,"throw",t)}o(void 0)})}}var m=r.Router({mergeParams:!0}),Oe=(()=>{var e=je(M().mark(function t(r,e){var n,o,i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.danisman_id,o=(0,ge.join)(process.cwd(),"public/uploads/danisman/"+o+"/ortak"),i=[],(0,h.existsSync)(o)&&(0,h.readdirSync)(o).forEach(function(t){i.push(t)}),t.abrupt("return",e.json({files:i}));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Le=(()=>{var e=je(M().mark(function t(r,e){var n,o;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.danisman_id,t.next=6,u.Query("SELECT * FROM `danis_basvuru` WHERE danisman_id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",e.json(o));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),ke=(()=>{var e=je(M().mark(function t(r,e){var n;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `danis_basvuru` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Se=(()=>{var e=je(M().mark(function t(r,e){var n,o,i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=xe(n,we),t.next=6,u.Query("UPDATE `danis_basvuru` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),_e=(()=>{var e=je(M().mark(function t(r,e){var n;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `danis_basvuru` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Pe=(()=>{var e=je(M().mark(function t(r,e){var n,o;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("Select * FROM `danis_basvuru` WHERE id = ?",[n.id]);case 5:return o=t.sent,t.abrupt("return",e.json(o[0]));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ne=["id"];function De(t,r){if(null==t)return{};var e,n=((t,r)=>{if(null==t)return{};var e,n={};for(e in t)if({}.hasOwnProperty.call(t,e)){if(r.includes(e))continue;n[e]=t[e]}return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)e=o[i],r.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(n[e]=t[e]);return n}function Y(){Y=function(){return a};var c,a={},t=Object.prototype,s=t.hasOwnProperty,f=Object.defineProperty||function(t,r,e){t[r]=e.value},r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{i({},"")}catch(c){i=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o,i,a,u,r=r&&r.prototype instanceof m?r:m,r=Object.create(r.prototype),n=new k(n||[]);return f(r,"_invoke",{value:(o=t,i=e,a=n,u=p,function(t,r){if(u===y)throw Error("Generator is already running");if(u===d){if("throw"===t)throw r;return{value:c,done:!0}}for(a.method=t,a.arg=r;;){var e=a.delegate;if(e){e=function t(r,e){var n=e.method,o=r.iterator[n];if(o===c)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=c,t(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;n=l(o,r.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;o=n.arg;return o?o.done?(e[r.resultName]=o.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}(e,a);if(e){if(e===v)continue;return e}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=y;e=l(o,i,a);if("normal"===e.type){if(u=a.done?d:h,e.arg===v)continue;return{value:e.arg,done:a.done}}"throw"===e.type&&(u=d,a.method="throw",a.arg=e.arg)}})}),r}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var p="suspendedStart",h="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var r={},w=(i(r,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(S([]))),x=(w&&w!==t&&s.call(w,n)&&(r=w),b.prototype=m.prototype=Object.create(r));function E(t){["next","throw","return"].forEach(function(r){i(t,r,function(t){return this._invoke(r,t)})})}function j(a,u){var r;f(this,"_invoke",{value:function(e,n){function t(){return new u(function(t,r){!function r(t,e,n,o){var i,t=l(a[t],a,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==Te(e)&&s.call(e,"__await")?u.resolve(e.__await).then(function(t){r("next",t,n,o)},function(t){r("throw",t,n,o)}):u.resolve(e).then(function(t){i.value=t,n(i)},function(t){return r("throw",t,n,o)});o(t.arg)}(e,n,t,r)})}return r=r?r.then(t,t):t()}})}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(r){if(r||""===r){var e,t=r[n];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return e=-1,(t=function t(){for(;++e<r.length;)if(s.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(Te(r)+" is not iterable")}return f(x,"constructor",{value:g.prototype=b,configurable:!0}),f(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,o,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},E(j.prototype),i(j.prototype,e,function(){return this}),a.AsyncIterator=j,a.async=function(t,r,e,n,o){void 0===o&&(o=Promise);var i=new j(u(t,r,e,n),o);return a.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),i(x,o,"Generator"),i(x,n,function(){return this}),i(x,"toString",function(){return"[object Generator]"}),a.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},a.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=c),!!r}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,L(o)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:S(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=c),v}},a}function Fe(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function Re(u){return function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){Fe(n,r,e,o,i,"next",t)}function i(t){Fe(n,r,e,o,i,"throw",t)}o(void 0)})}}var g=r.Router({mergeParams:!0}),Ge=(()=>{var e=Re(Y().mark(function t(r,e){var n,o,i;return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.danisman_id,o=(0,ge.join)(process.cwd(),"public/uploads/danisman/"+o+"/ortak"),i=[],(0,h.existsSync)(o)&&(0,h.readdirSync)(o).forEach(function(t){i.push(t)}),t.abrupt("return",e.json({files:i}));case 8:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ie=(()=>{var e=Re(Y().mark(function t(r,e){var n;return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("SELECT * FROM `danis_basvuru` WHERE status LIKE '%Başvuru Yapıldı%'");case 5:return n=t.sent,t.abrupt("return",e.json(n));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Qe=(()=>{var e=Re(Y().mark(function t(r,e){var n;return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("INSERT INTO `danis_basvuru` SET ?",[n]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),Ae=(()=>{var e=Re(Y().mark(function t(r,e){var n,o,i;return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return o=n.id,i=De(n,Ne),t.next=6,u.Query("UPDATE `danis_basvuru` SET ? WHERE id = ?",[i,o]);case 6:return t.abrupt("return",e.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),He=(()=>{var e=Re(Y().mark(function t(r,e){var n;return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("DELETE FROM `danis_basvuru` WHERE id = ?",[n.id]);case 5:return t.abrupt("return",e.json({msg:"Ok!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})(),We=(()=>{var e=Re(Y().mark(function t(r,e){var n,o;return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.body){t.next=3;break}return t.abrupt("return",e.json({msg:"Data not found"}));case 3:return t.next=5,u.Query("Select * FROM `danis_basvuru` WHERE id = ?",[n.id]);case 5:return o=t.sent,t.abrupt("return",e.json(o[0]));case 7:case"end":return t.stop()}},t)}));return function(t,r){return e.apply(this,arguments)}})();function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(r,t){var e,n=Object.keys(r);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(r),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)),n}function Ce(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(o),!0).forEach(function(t){var r,e;r=n,e=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=Me(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);if("object"!=Me(e=e.call(t,r||"default")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==Me(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ye(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}var qe=r.Router({mergeParams:!0}),Br=(Br=new Br({usernameField:"email",passwordField:"sifre",passReqToCallback:!0},(()=>{u=ne().mark(function t(r,e,n,o){var i,a;return ne().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te(e);case 3:if(i=t.sent){t.next=8;break}return t.abrupt("return",o(null,!1));case 8:return t.next=10,$r(n,i);case 10:if(!0===(a=t.sent))return t.abrupt("return",o(null,i,null));t.next=15;break;case 15:if("The password that you've entered is incorrect"===a)return t.abrupt("return",o(null,i,a));t.next=19;break;case 19:return t.abrupt("return",o(null,!1,null));case 20:t.next=25;break;case 22:return t.prev=22,t.t0=t.catch(0),t.abrupt("return",o(null,!1,{message:t.t0}));case 25:case"end":return t.stop()}},t,null,[[0,22]])});var u,o=function(){var t=this,a=arguments;return new Promise(function(r,e){var n=u.apply(t,a);function o(t){oe(n,r,e,o,i,"next",t)}function i(t){oe(n,r,e,o,i,"throw",t)}o(void 0)})};return function(t,r,e,n){return o.apply(this,arguments)}})()),Kr.use(Br),require("body-parser")),Ue=require("method-override"),b=require("cookie-parser"),ze=require("express-session"),w=(require("connect-flash"),require("compression")),t=((0,t.config)({path:["const.env"]}),r()),Je=process.env.PORT||3e3;t.use(w()),t.use(b("secret")),t.use(ze({secret:"secret",resave:!0,saveUninitialized:!1,cookie:{maxAge:864e5}})),t.engine(".hbs",(0,x.engine)({defaultLayout:"main",extname:".hbs",layoutsDir:"views/layouts",partialsDir:"views/partials",helpers:{calc:function(t){return t+7},list:function(t,r,e){return"<h3>"+e.fn({test:t,test1:r,label:"custom Helper List"})},IsEq:function(t,r,e){return t===r?e.fn(this):e.inverse(this)},BiggerThan:function(t,r){return 0<t.length?r.fn(this):r.inverse(this)},LessThan:function(t,r){return t.length<=0?r.fn(this):r.inverse(this)},Inc:function(t,r){return parseInt(t)+1},Json:function(t,r){return JSON.stringify(t)}}})),t.set("view engine",".hbs"),t.set("views","".concat(process.cwd(),"/views")),t.use(r.static("public")),t.use(Br.urlencoded({limit:"50mb",extended:!0})),t.use(Br.json({limit:"50mb"})),t.use(Ue("_method")),t.use(Kr.initialize()),t.use(Kr.session()),b=w=t,K.post("/sertifikalar/get-list",V),K.post("/sertifikalar/add",X),K.post("/sertifikalar/update",Z),K.post("/sertifikalar/delete",$),b.use("/",K),b=w,it.post("/onay-kurumlar/get-list",at),it.post("/onay-kurumlar/add",ut),it.post("/onay-kurumlar/update",ct),it.post("/onay-kurumlar/delete",st),b.use("/",it),b=w,e.post("/personel/get-list",mt),e.post("/personel/add",gt),e.post("/personel/update",bt),e.post("/personel/delete",wt),e.post("/personel/get-personel-name",xt),e.post("/personel/get-danismanlar",vt),b.use("/",e),b=w,lt.post("/stat/fileupload",ft.single("file"),function(t,r){r.status(200).json({msg:"Ok!"})}),lt.post("/stat/filedelete",function(t,r){return t.body?(t=t.body.filepath,t=process.cwd()+"/public"+t,(0,n.existsSync)(t)&&(0,n.unlinkSync)(t),r.json({msg:"Kaldırıldı"})):r.json({msg:"Data Not found"})}),lt.post("/stat/folderdelete",function(t,r){var e;return t.body?(t=t.body.folderpath,t=process.cwd()+"/public"+t,console.log(t),(e=(0,n.existsSync)(t))&&(console.log("isExist:",e),(0,n.rmdirSync)(t,{recursive:!0})),r.json({msg:"Kaldırıldı"})):r.json({msg:"Data Not found"})}),b.use("/",lt),b=w,i.post("/as-firma/get-list",St),i.post("/as-firma/add",_t),i.post("/as-firma/update",Pt),i.post("/as-firma/delete",Tt),i.post("/as-firma/get-firma-name",Nt),b.use("/",i),b=w,s.post("/planlama/denetim-formlar",function(t,r,e){r.setTimeout(3e5,function(){console.log("Request has timed out."),r.sendStatus(408)}),e()},It),s.post("/planlama/get-il",Jt),s.post("/planlama/get-iller",zt),s.post("/planlama/get-ilce",Bt),s.post("/planlama/get-ilceler",Ut),s.post("/planlama/get-mahalle",Kt),s.post("/planlama/get-mahalleler",qt),s.post("/planlama/get-denetciler",Ct),s.post("/planlama/get-as-firmalar",Yt),s.post("/planlama/add",Ht),s.post("/planlama/update",Wt),s.post("/planlama/delete",Mt),s.post("/planlama/get-planlamalar",Qt),s.post("/planlama/get-lastday-plans",At),b.use("/",s),b=w,p.post("/denetim/get-denetim-by-planid",sr),p.post("/denetim/save-asansor-bilgi",fr),p.post("/denetim/update-asansor-bilgi",lr),p.post("/denetim/get-sertifika",cr),p.post("/denetim/delete-denetim",ar),p.post("/denetim/get-comps",ur),p.post("/denetim/update-modulb-list",ir),p.post("/denetim/update-imzali-formlar",nr),p.post("/denetim/update-tds-folders",or),p.post("/denetim/get-planlamalar",er),p.post("/denetim/update-risk",rr),p.post("/denetim/update-planstatus",tr),b.use("/",p),b=w,gr.post("/proje/get-planlamalar",Er),gr.post("/proje/get-denetim-by-planid",jr),gr.post("/proje/get-asansor-firmaByplanId",xr),gr.post("/proje/update-denetim-proje",wr),gr.post("/proje/update-plan-status",br),b.use("/",gr),b=w,d.post("/tds/get-planlamalar",Mr),d.post("/tds/get-onay-kurum",Yr),d.post("/tds/get-cert",Cr),d.post("/tds/teknik-dosya",qr),d.post("/tds/update-plan-status",Wr),d.post("/tds/download-forms",Hr),d.post("/tds/update-ab-son-tarih",Ar),b.use("/",d),b=w,ae.get("/signin",zr,function(t,r){return r.render("pages/signin.hbs",{title:"Signin",scriptname:"signin"})}),ae.post("/signin",function(t,r,e){if(!t.body)return r.send("User Not found");e()},ie),ae.post("/signout",Jr),b.use("/",ae),b=w,v.post("/danis_firma/get-list",he),v.post("/danis_firma/add",ye),v.post("/danis_firma/update",de),v.post("/danis_firma/delete",ve),v.post("/danis_firma/get-firma-name",me),v.post("/danis_firma/get-list-all",pe),b.use("/",v),b=w,m.post("/danis_basvuru/get-list",Le),m.post("/danis_basvuru/add",ke),m.post("/danis_basvuru/update",Se),m.post("/danis_basvuru/delete",_e),m.post("/danis_basvuru/get-basvuru",Pe),m.post("/danis_basvuru/get-ortak-files",Oe),b.use("/",m),b=w,g.post("/basv/get-list",Ie),g.post("/basv/add",Qe),g.post("/basv/update",Ae),g.post("/basv/delete",He),g.post("/basv/get-basvuru",We),g.post("/basv/get-ortak-files",Ge),b.use("/",g),qe.post("/gudr",function(t,r){return r.json(Ce({},t.user))}),qe.get("/*",Ur,function(t,r){if(t.user)return"Danışman"!=t.user.gorev?r.render("pages/dashboard.hbs",{title:"Kontrol Panel",scriptname:"main",user:t.user,yetki:JSON.parse(t.user.yetki)}):r.render("pages/dashboard.hbs",{title:"Danışman Panel",scriptname:"main",user:t.user,headname:"danis-header"})}),qe.get("/.well-known/pki-validation/8EF0E148BC848A44E6EAFE8F9FADF56F.txt",E),w.use("/",qe),t.listen(Je,function(){console.log("Server is starting at ".concat(Je))})})();